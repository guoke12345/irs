CG={version:1,log:function(a){if(console){console.log(a)}},id:1,getId:function(){return this.id++},max:function(){var b=arguments.length;if(b>0){var a=arguments[0];for(var c=1;c<b;c++){if(a<arguments[c]){a=arguments[c]}}}return a},min:function(){var a=arguments.length;if(a>0){var c=arguments[0];for(var b=1;b<a;b++){if(c>arguments[b]){c=arguments[b]}}}return c},merge:function(){var b=arguments.length,e=new Array();for(var d=0;d<b;d++){var a=arguments[d].length;for(var c=0;c<a;c++){e.push(arguments[d][c])}}return e},isInvalid:function(a){if(typeof a==="undefined"){return true}else{if(typeof a==="object"&&$.isEmptyObject(a)){return true}}return false},objToStr:function(c){var b=[];if(typeof c=="string"){return'"'+c.replace(/([\'\"\\])/g,"\\$1").replace(/(\n)/g,"\\n").replace(/(\r)/g,"\\r").replace(/(\t)/g,"\\t")+'"'}if(typeof c=="object"){if(!c.sort){for(var a in c){b.push(a+":"+CUST.objToStr(c[a]))}if(!!document.all&&!/^\n?function\s*toString\(\)\s*\{\n?\s*\[native code\]\n?\s*\}\n?\s*$/.test(c.toString)){b.push("toString:"+c.toString.toString())}b="{"+b.join()+"}"}else{for(var a=0;a<c.length;a++){b.push(CUST.objToStr(c[a]))}b="["+b.join()+"]"}return b}return c.toString()},strToObj:function(data){try{if($.type(data)=="string"){return eval("("+data+")")}else{return data}}catch(e){return{}}},aryToObj:function(d,b){var f={},c=d.length,a=b.length;for(var e=0;e<c;e++){if(a==1){f[d[e]]=b[0]}else{f[d[e]]=b[e]}}return f},getTwoLen:function(a){a=a.toString();if(a.length==1){return"0"+a}else{return a}},trans:function(a){return a.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"')},encode:function(a){return a.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll(" ","&nbsp;")},stripHtml:function(a){return a.replace(/<.[^<>]*?>/g,"").replace(/&nbsp;|&#160;/gi,"").replace(/[.(),;:!?%#$'"_+=\/-]*/g,"")},htmlToText:function(a){return a.replace(/<.[^<>]*?>/g,"").replace(/&nbsp;|&#160;/gi,"").replace(/\s/g,"")},isOverAxis:function(a,b,c){return(a>=b)&&(a<=(b+c))}};CG.CONST={MASK_HTML:'<div class="cg-mask"></div>',OVERLAY_HTML:'<div class="cg-overlay"></div>',TOLLTIP_HTML:'<div class="cg-tooltips"><div class="cg-tooltips-arrow"></div><div class="cg-tooltips-message"></div></div>',SLIDER_HTML:'<div class="cg-slider clearfix"><div class="cg-slider-left"></div><div class="cg-slider-range-container"><div class="cg-slider-range"></div></div><div class="cg-slider-right"></div><div class="cg-slider-handler"></div></div>',SELECT_HTML:'<div class="cg-select"><div class="cg-select-name"></div><div class="cg-option"><ul></ul></div></div>'};CG.CONFIG={CALENDAR_DATEFORMAT:"yyyy-MM:dd hh:mm:ss",CALENDAR_WEEKS:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],CALENDAR_SHORTWEEKS:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],CALENDAR_MONTHS:["January","February","March","April","May","June","July","August","September","October","November","December"],CALENDAR_SHORTMONTHS:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CALENDAR_TIMENAME:["hour","minute","second"],CALENDAR_BUTTONS:["clear","today","ok"],CALENDAR_STARTWEEK:0};(function(a){a.extend(String.prototype,{trim:function(){return this.replace(/(^\s*)|(\s*$)|\r|\n/g,"")},replaceAll:function(c,b){return this.replace(new RegExp(c,"gm"),b)},startsWith:function(b){return this.indexOf(b)===0},endsWith:function(b){var c=this.length-b.length;return c>=0&&this.lastIndexOf(b)===c},isValidPwd:function(){return(new RegExp(/^([_]|[a-zA-Z0-9]){6,32}$/).test(this))},isEmail:function(){return(new RegExp(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/).test(this.trim()))},isQq:function(){return(new RegExp(/^[1-9]\d{4,}$/).test(this))},isIdcard:function(){return(new RegExp(/^\d{15}(\d{2}[A-Za-z0-9])?$/).test(this))},isChinese:function(){return(new RegExp(/^[\u0391-\uFFE5]+$/).test(this))},isIp:function(){return(new RegExp(/^([1-9]\d{0,2}){1}\.([1-9]\d{0,2}){1}\.([1-9]\d{0,2}){1}$/).test(this))},isSpaces:function(){for(var b=0;b<this.length;b+=1){var c=this.charAt(b);if(c!=" "&&c!="\n"&&c!="\t"&&c!="\r"){return false}}return true},isTelphone:function(){return(new RegExp(/(^([0-9]{3,4}[-])?\d{3,8}(-\d{1,6})?$)|(^\([0-9]{3,4}\)\d{3,8}(\(\d{1,6}\))?$)|(^\d{7,8}$)/).test(this))},isMobilephone:function(){return(new RegExp(/^\d{11}$/).test(this))},isPhone:function(){return(new RegExp(/(^([0-9]{3,4}[-])?\d{3,8}(-\d{1,6})?$)|(^\([0-9]{3,4}\)\d{3,8}(\(\d{1,6}\))?$)|(^\d{7,8}$)|(^\d{11}$)/).test(this))},isUrl:function(){return(new RegExp(/^[a-zA-z]+:\/\/([a-zA-Z0-9\-\.]+)([-\w .\/?%&=:]*)$/).test(this))},isExternalUrl:function(){return this.isUrl()&&this.indexOf("://"+document.domain)==-1},isInteger:function(){return(new RegExp(/^-?\d+$/).test(this))},isPositiveInteger:function(){return(new RegExp(/^[1-9]\d*$/).test(this))},isNegativeInteger:function(){return(new RegExp(/^-[1-9]\d*$/).test(this))},isNumber:function(){return(new RegExp(/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/).test(this))},isNegativeNumber:function(){return this.isNumber()&&(this<0)},isPositiveNumber:function(){return this.isNumber()&&(this>0)}});a.extend(Date.prototype,{format:function(d){var f="";var c=function(e,g){g=g.replace("yyyy",e.getFullYear());g=g.replace("mm",CUST.getTwoLen(e.getMonth()+1));g=g.replace("dd",CUST.getTwoLen(e.getDate()));g=g.replace("hh",CUST.getTwoLen(e.getHours()));g=g.replace("MM",CUST.getTwoLen(e.getMinutes()));g=g.replace("ss",CUST.getTwoLen(e.getSeconds()));g=g.replace("w",CUST.CONST.CALENDAR_WEEKS[e.getDay()]);return g};try{f=c(this,d)}catch(b){f=c(new Date(),d)}return f}});a.extend(Array.prototype,{unique:function(){var c={},b=this.length;for(var e=0;e<b;e++){var d=this[e];if(typeof(c[d])=="undefined"){c[d]=1}}this.length=0;for(var e in c){this[this.length]=e}return this},del:function(c){var e=new Array(),b=this.length;for(var d=0;d<b;d++){if(d!=c){e.push(this[d])}}this.length=0;for(var d=0;d<b-1;d++){this[d]=e[d]}return this}})})(jQuery);(function(a){a.cgDialogs=[];a.cgDialogTotal=0;a.cgDialog={close:function(){for(var b=0;b<a.cgDialogs.length;b++){if(this.id==a.cgDialogs[b].id){a.cgDialogs.del(b);break}}this.dialogBox.remove();var b;for(b=a.cgDialogs.length-1;b>=0;b--){if(a.cgDialogs[b].modal==true){var c=a.cgDialogs[b].dialogBox.css("z-index");a("#dialog-modal").css({"z-index":c});break}}if(b==-1){a("#dialog-modal").animate({opacity:"hide"},200)}},reload:function(){var b=this;if(b.iframe&&b.href){a("iframe",b.contentBox).attr("src",b.href)}else{if(b.href){a.ajax({url:b.href,type:"post",dataType:"html",success:function(c){b.contentBox.html(c)},error:function(c,e,d){}})}}},getValue:function(){var b=this;if(b.iframe){var c=b.getIframe();if(c.$){return c.$.returnValue}}},getIframe:function(){var b=this;if(b.iframe&&a("iframe",b.contentBox).length>0){var c=a("iframe",b.contentBox)[0].contentWindow;return c}},disableButton:function(b){var c=this;c.buttonBox.find(".btn").eq(b).unbind("click").find(".btn-inner").css("color","#bbb")},enableButton:function(b){var c=this;c.buttonBox.find(".btn").eq(b).click({dialog:c},c.buttons[b].handler).find(".btn-inner").attr("style","")},addButtons:function(d){var c=this;if(d&&d.length>0){c.buttons=a.merge(c.buttons||[],d);a.cgDialog._setButtons(c)}if(!c.buttons||c.buttons.length==0){c.contentBox.css("bottom",5)}var e=Math.min(c.maxWidth,Math.max(c.width,c.minWidth));var b=Math.min(c.maxHeight,Math.max(c.height,c.minHeight));if(a.ieVersion<=7&&c.type=="window"){if(c.type=="window"){if(!c.buttons||c.buttons.length==0){obj.contentBox.css({height:b-42,width:e-12})}else{obj.contentBox.css({height:b-75,width:e-12})}}}},removeButton:function(c){var d=this;d.buttons.del(c);d.buttonBox.find(".btn").eq(c).remove();if(!d.buttons||d.buttons.length==0){d.contentBox.css("bottom",5)}var e=Math.min(d.maxWidth,Math.max(d.width,d.minWidth));var b=Math.min(d.maxHeight,Math.max(d.height,d.minHeight));if(a.ieVersion<=7&&d.type=="window"){if(d.type=="window"){if(!d.buttons||d.buttons.length==0){obj.contentBox.css({height:b-42,width:e-12})}else{obj.contentBox.css({height:b-75,width:e-12})}}}}};a.fn.cgDialog={init:function(d){var d=a.extend(true,{type:"window",id:"dialog_"+a.cgDialogTotal,dialogClass:null,repeat:false,title:"",icon:"icon-logo",content:null,href:null,iframe:false,closable:true,closeHandler:function(e){e.data.dialog.close()},width:250,height:200,maxWidth:1400,maxHeight:600,minWidth:240,minHeight:200,resizable:true,draggable:true,modal:true,effect:null,buttons:null},d);if(!d.repeat&&a.fn.cgDialog.get(d.id).length>0){return a.fn.cgDialog.get(d.id)[0]}var b=function(){var o={},q={},n="auto",s="auto";var e=function(){if(d.type=="window"){var v='<div class="window"><div class="window-header"><div class="window-title"></div><div class="window-close"></div></div><div class="window-body"></div><div class="window-button clearfix"><div class="window-buttons clearfix"></div></div><div class="handler"></div></div>'}else{if(d.type=="msgbox"){var v='<div class="window msgbox"><div class="window-body"></div><div class="window-button clearfix"><div class="window-buttons clearfix"></div></div></div>'}}o.dialogBox=a(v).attr("id",d.id).addClass(d.dialogClass);o.titleBox=a(".window-title",o.dialogBox).html(d.title).addClass(d.icon);o.closeButton=a(".window-close",o.dialogBox);o.buttonBox=a(".window-buttons",o.dialogBox);o.contentBox=a(".window-body",o.dialogBox);if(!d.buttons||d.buttons.length==0){o.contentBox.css("bottom",5)}q=a.extend(true,{},a.cgDialog,o,d)};e();var p=function(){n=Math.min(d.maxWidth,Math.max(d.width,d.minWidth));s=Math.min(d.maxHeight,Math.max(d.height,d.minHeight));if(a.ieVersion<=7&&d.type=="window"){if(d.type=="window"){if(!d.buttons||d.buttons.length==0){o.contentBox.css({height:s-42,width:n-12})}else{o.contentBox.css({height:s-75,width:n-12})}}}};var g=function(){if(!d.closable){q.closeButton.remove()}else{q.closeButton.click({dialog:q},function(v){d.closeHandler(v);v.stopPropagation()})}};g();var h=function(){if(!q.iframe){if(q.href){q.reload()}else{if(q.content){if(typeof q.content=="string"){q.contentBox.html(q.content)}else{try{q.contentBox.html(q.content.outerHtml())}catch(w){}}}}}else{if(q.href){var v="<iframe frameborder='0' width='100%' height='100%' scrolling='auto' src="+q.href+"></iframe>";q.content=v;q.contentBox.html(v)}}};h();var u=function(){var x=a(".window-header",o.dialogBox);var v=true,w;x.dblclick(function(y){if(v){w=o.dialogBox.attr("style");o.dialogBox.attr("pstyle",w);o.dialogBox.cgMonitor({callback:function(B,A,z){B.css({width:A,height:z,left:0,top:0})}});v=false}else{o.dialogBox.attr("style",w);v=true}y.stopPropagation()})};a.cgDialog._setButtons=function(z){var C=z,B=z;for(var y=0;y<C.buttons.length;y++){var v='<div class="btn btn-25"><div class="btn-left"></div><div class="btn-inner"><div class="btn-icon"></div><div class="btn-title"></div></div><div class="btn-right"></div></div>';var x=a(v);var w=C.buttons[y];a(".btn-title",x).html(w.text);if(w.icon){a(".btn-icon",x).addClass(w.icon)}else{a(".btn-icon",x).remove()}var A=w.handler;x.appendTo(B.buttonBox);x.click({dialog:z},A)}};if(d.buttons&&d.buttons.length>0){a.cgDialog._setButtons(q)}var f;if(d.iframe){f=o.contentBox.cgOverlay({appendTo:o.contentBox,opacity:0});f.disable()}var r=function(){if(!d.resizable){a(".handler",o.dialogBox).remove()}else{var w=o.dialogBox.cgResize({handler:".handler",opacity:0.5,zIndex:++a.maxZindex,min:{width:d.minWidth,height:d.minHeight},max:{width:d.maxWidth,height:d.maxHeight},resize:function(A,C,B,y){if(a.ieVersion<=7){var z=C.currentSize.height,x=C.currentSize.width;if(!d.buttons||d.buttons.length==0){o.contentBox.css({height:z-42,width:x-12})}else{o.contentBox.css({height:z-75,width:x-12})}}},start:function(){w.option("zIndex",++a.maxZindex);if(d.iframe){f.enable()}},stop:function(){if(d.iframe){f.disable()}}})}if(d.draggable){var v=o.dialogBox.cgDrag({handler:".window-header",opacity:0.5,zIndex:++a.maxZindex,container:window,start:function(){v.option("zIndex",++a.maxZindex);if(d.iframe){f.enable()}},stop:function(){if(d.iframe){f.disable()}}})}};r();var m=function(){if(d.modal&&a("#dialog-modal").length==0){var v=a("<div id='dialog-modal'></div>").css({"z-index":a.maxZindex,position:"absolute",left:0,top:0,width:"100%",opacity:0.7,background:"#ccc"});v.appendTo("body");v.cgMonitor({callback:function(z,y,x){z.css({height:x,width:y})},target:"body"})}else{if(d.modal){var w=a("#dialog-modal").css("z-index");a("#dialog-modal").css({"z-index":a.maxZindex+1}).show()}}};m();q.dialogBox.appendTo("body").show();p();var t=function(){o.dialogBox.hide().css({position:"absolute","z-index":a.maxZindex+1});if(!d.effect){if(d.type=="msgbox"){s="auto";o.dialogBox.cgDrag({handler:".window-button",opacity:1,zIndex:++a.maxZindex})}o.dialogBox.css({width:n,height:s});o.dialogBox.cgMonitor({callback:function(z,w,v,y,x){if(d.type=="msgbox"){s=o.dialogBox.outerHeight(true);if(typeof s!="number"){}}z.css({left:(w-n)/2+y,top:(v-s)/2+x});if(d.type=="msgbox"){}},monitor:false});o.dialogBox.show()}else{if(d.effect=="flyin"){o.dialogBox.css({position:"absolute",left:d.pageX||0,top:d.pageY||0,"z-index":a.maxZindex+1,width:0,height:0});o.dialogBox.cgMonitor({callback:function(z,w,v,y,x){z.animate({width:n,height:s,left:(w-n)/2+y,top:(v-s)/2+x,opacity:"show"},450)},monitor:false})}else{if(d.effect=="fade"){o.dialogBox.css({width:n,height:s});o.dialogBox.cgMonitor({fun:function(z,w,v,y,x){z.css({left:(w-n)/2+y,top:v/2-s/2+x})},monitor:false});o.dialogBox.animate({opacity:"show"},450)}}}};t();return q};var c={};c=b();a.cgDialogTotal+=1;a.maxZindex+=1;a.cgDialogs.push(c);return c},close:function(e){var d=a("#"+e);var c=a.fn.cgDialog.get(e);for(var b=0;b<c.length;b++){c[b].close()}},get:function(e){var c=new Array();var d=a("#"+e);for(var b=0;b<a.cgDialogs.length;b++){if(d.attr("id")&&d.attr("id")==a.cgDialogs[b].id){c.push(a.cgDialogs[b])}}return c}}})(jQuery);(function(d){var b=["DOMMouseScroll","mousewheel"];if(d.event.fixHooks){for(var a=b.length;a;){d.event.fixHooks[b[--a]]=d.event.mouseHooks}}d.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var e=b.length;e;){this.addEventListener(b[--e],c,false)}}else{this.onmousewheel=c}},teardown:function(){if(this.removeEventListener){for(var e=b.length;e;){this.removeEventListener(b[--e],c,false)}}else{this.onmousewheel=null}}};d.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}});function c(n){var h=n||window.event,g=[].slice.call(arguments,1),o=0,m=true,f=0,e=0;n=d.event.fix(h);n.type="mousewheel";if(h.wheelDelta){o=h.wheelDelta/120}if(h.detail){o=-h.detail/3}e=o;if(h.axis!==undefined&&h.axis===h.HORIZONTAL_AXIS){e=0;f=-1*o}if(h.wheelDeltaY!==undefined){e=h.wheelDeltaY/120}if(h.wheelDeltaX!==undefined){f=-1*h.wheelDeltaX/120}g.unshift(n,o,f,e);return(d.event.dispatch||d.event.handle).apply(this,g)}})(jQuery);(function(a){a.fn.cgSwitch=function(b){b=a.extend({},{title:"",content:"",selectedClass:null,event:"click",type:null,speed:200},b);return this.each(function(c){var d={};d.$this=a(this);d.titles=a(b.title,d.$this);d.contents=a(b.content,d.$this);d.titles.each(function(e){a(this).bind(b.event,function(){if(a(this).hasClass(b.selectedClass)){a(this).removeClass(b.selectedClass)}else{a(this).addClass(b.selectedClass)}if(b.type=="fade"){d.contents.eq(e).fadeToggle(b.speed)}else{if(b.type=="slide"){d.contents.eq(e).slideToggle(b.speed)}else{d.contents.eq(e).toggle(b.speed)}}})})})};a.fn.cgMonitor=function(b){b=a.extend({monitor:true,callback:null,target:window,firstExecute:true,monitorTarget:window,event:"resize scroll"},b);return a(this).each(function(){var n=a(this),m=b.target?a(b.target):a(this),d=b.monitorTarget?a(b.monitorTarget):a(this),f,c,h,g;var e=function(){f=m.getMaxSize(window).outerWidth;c=m.getMaxSize(window).outerHeight;h=m.scrollLeft();g=m.scrollTop()};if(b.firstExecute){e();b.callback.call(n,n,f,c,h,g)}if(b.monitor){d.bind(b.event,function(){e();b.callback.call(n,n,f,c,h,g)})}})};a.fn.getWindowSize=function(d){d=a.extend(true,{fun:function(s,p,o,r,q){},resizeChange:true,tag:null,resizeTag:null},d);var m=a(this);if(m.length==0){return}var h,g,c,b,f,n;if(!d.tag){h=a(window)}else{h=a(d.tag)}if(!d.resizeTag){g=a(window)}else{g=a(d.resizeTag)}var e=function(){c=Math.max(h.outerWidth(true),a(window).width());height=Math.max(h.outerHeight(true),a(window).height());f=a(window).scrollLeft();n=a(window).scrollTop()};e();d.fun(m,c,height,f,n);if(d.resizeChange){g.resize(function(){e();d.fun(m,c,height,f,n)})}return this}})(jQuery);(function(a){a.extend({ieVersion:a.browser.msie?a.browser.version:100,maxZindex:100,cookie:function(c,n,q){if(typeof n!="undefined"){q=q||{};if(n===null){n="";q.expires=-1}var f="";if(q.expires&&(typeof q.expires=="number"||q.expires.toUTCString)){var g;if(typeof q.expires=="number"){g=new Date();g.setTime(g.getTime()+(q.expires*24*60*60*1000))}else{g=q.expires}f="; expires="+g.toUTCString()}var p=q.path?"; path="+q.path:"";var h=q.domain?"; domain="+q.domain:"";var b=q.secure?"; secure":"";document.cookie=[c,"=",encodeURIComponent(n),f,p,h,b].join("")}else{var e=null;if(document.cookie&&document.cookie!=""){var o=document.cookie.split(";");for(var m=0;m<o.length;m++){var d=jQuery.trim(o[m]);if(d.substring(0,c.length+1)==(c+"=")){e=decodeURIComponent(d.substring(c.length+1));break}}}return e}}});a.fn.extend({outerHtml:function(m){if(!this.length){return null}else{if(m===undefined){var d=(this.length)?this[0]:this,n;if(d.outerHTML){n=d.outerHTML}else{n=a(document.createElement("div")).append(a(d).clone()).html()}if(typeof n==="string"){n=a.trim(n)}return n}else{if(a.isFunction(m)){this.each(function(o){var p=a(this);p.outerHTML(m.call(this,o,p.outerHTML()))})}else{var f=a(this),e=[],g=a(m),b;for(var h=0;h<f.length;h++){b=g.clone(true);f.eq(h).replaceWith(b);for(var c=0;c<b.length;c++){e.push(b[c])}}return(e.length)?a(e):null}}}},getSize:function(){var b=new Object();if(arguments[0]){b.width=this.width();b.height=this.height();b.outerWidth=this.outerWidth(true);b.outerHeight=this.outerHeight(true)}else{b.width=this.width();b.height=this.height();b.outerWidth=this.outerWidth();b.outerHeight=this.outerHeight()}return b},getMaxSize:function(e){var d=this.getSize(),c=a(e).getSize(),b=c;if(d.width>c.width){b.width=d.width}if(d.height>c.height){b.height=d.height}if(d.outerWidth>c.outerWidth){b.outerWidth=d.outerWidth}if(d.outerHeight>c.outerHeight){b.outerHeight=d.outerHeight}return b},setSize:function(c,b,d){if(!CG.isInvalid(c)&&CG.isInvalid(b)){this.stop(true,true).animate({width:c},d||0)}else{if(!CG.isInvalid(b)&&CG.isInvalid(c)){this.stop(true,true).animate({height:b},d||0)}else{if(!CG.isInvalid(b)&&!CG.isInvalid(c)){this.stop(true,true).animate({width:c,height:b},d||0)}}}return this},getPosition:function(){var b={};b.left=parseInt(this.css("left"))||0;b.top=parseInt(this.css("top"))||0;return b},setPosition:function(d,c,b){if(!CG.isInvalid(d)&&CG.isInvalid(c)){this.stop(true,true).animate({left:d},b||0)}else{if(!CG.isInvalid(c)&&CG.isInvalid(d)){this.stop(true,true).animate({top:c},b||0)}else{if(!CG.isInvalid(c)&&!CG.isInvalid(d)){this.stop(true,true).animate({left:d,top:c},b||0)}}}return this},getOffset:function(){var b={};if(arguments[0]){b=this.position()}else{b=this.offset()}if(!b){b={left:0,top:0}}return b},getScroll:function(){var b={};b.scrollLeft=this.scrollLeft();b.scrollTop=this.scrollTop();return b},resetCss:function(){var b=CG.aryToObj(arguments,[""]);this.css(b);return this},isTag:function(b){return this[0].tagName==b.toUpperCase()},isCover:function(b,f){var d=this.getOffset(),c=this.getSize();if(arguments.length==1){var e=arguments[0].getOffset();b=e.left;f=e.top}return CG.isOverAxis(f,d.top,c.outerHeight)&&CG.isOverAxis(b,d.left,c.outerWidth)},isOver:function(e){var d=this.getOffset(),b=this.getSize();return e.isCover(d.left,d.top)&&e.isCover(d.left+b.outerWidth,d.top+b.outerHeight)},isOverX:function(g){var f=this.getOffset(),d=this.getSize(),e=g.getOffset(),b=g.getSize();return CG.isOverAxis(f.left,e.left,b.outerWidth)&&CG.isOverAxis(f.left+d.outerWidth,e.left,b.outerWidth)},isOverY:function(g){var f=this.getOffset(),d=this.getSize(),e=g.getOffset(),b=g.getSize();return CG.isOverAxis(f.top,e.top,b.outerHeight)&&CG.isOverAxis(f.top+d.outerHeight,e.left,b.outerHeight)},getScope:function(d){var h=d.getOffset(),m=this.getOffset(),e=d.getSize(),f=this.getSize(),c=this.getPosition(),b=d.getScroll(),g={};g.minX=h.left-m.left+c.left+b.scrollLeft;g.minY=h.top-m.top+c.top+b.scrollTop;g.maxX=h.left+(e.outerWidth||e.width)-(m.left+f.outerWidth)+c.left+b.scrollLeft;g.maxY=h.top+(e.outerHeight||e.height)-(m.top+f.outerHeight)+c.top+b.scrollTop;return g}});a.fn.extend({cgDrag:function(c){c=a.extend({handler:null,container:null,zIndex:10,cursor:null,axis:"xy",iframeFix:true,overlay:null,opacity:0.8,drag:function(){},start:function(){},stop:function(){}},c);var b={destory:function(){a(f.handler).unbind("mousedown",e.start);a(document).unbind("mousemove",e.drag);a(document).unbind("mouseup",e.stop);e.draggable=false},disable:function(){a(f.handler).unbind("mousedown",e.start)},enable:function(){a(f.handler).bind("mousedown",e.start)},option:function(g,h){if(h){c[g]=h}else{if(g){return c[g]}}}};var e={draggable:true,init:function(){f.handler=c.handler?a(c.handler,f.$this):f.$this;f.container=a(c.container);if(f.$this.css("position")!="absolute"){f.$this.css("position","relative")}f.handler.mousedown(e.start);return b},start:function(g){if(!e.draggable){return false}f.position=f.$this.getPosition();f.currentPosition=f.position;f.offset=f.$this.getOffset();f.size=f.$this.getSize();f.cOffset=f.container.getOffset();f.cSize=f.container.getSize();d.pageX=g.pageX;d.pageY=g.pageY;scope=f.$this.getScope(f.container);d.minX=scope.minX;d.maxX=scope.maxX;d.minY=scope.minY;d.maxY=scope.maxY;if(a.isFunction(c.start)&&c.start.call(f.$this,g,f)==false){return false}if(c.iframeFix){d.iframeOverlay=a("body").cgOverlay({opacity:0,cursor:c.cursor})}if(c.overlay){d.overlay=a(c.container).cgOverlay({opacity:c.overlay.opacity,overflow:c.overlay.overflow,zIndex:c.overlay.zIndex})}f.$this.css({opacity:c.opacity,"z-index":c.zIndex});f.handler.css("cursor",c.cursor);a(document).mousemove(e.drag).mouseup(e.stop);g.stopPropagation();g.preventDefault()},drag:function(n){var m=n.pageX-d.pageX,h=n.pageY-d.pageY,p=e.getActualPosition(m,h),g=p.left-f.currentPosition.left,o=p.top-f.currentPosition.top;f.currentPosition=p;if(a.isFunction(c.drag)&&c.drag.call(f.$this,n,f,g,o)==false){return false}f.$this.setPosition(f.currentPosition.left,f.currentPosition.top);return false},stop:function(g){if(a.isFunction(c.stop)&&c.stop.call(f.$this,g,f)==false){return false}if(c.iframeFix){d.iframeOverlay.destory()}if(c.overlay){d.overlay.destory()}f.$this.resetCss("opacity");f.handler.resetCss("cursor");a(document).unbind("mousemove",e.drag).unbind("mouseup",e.stop)},getActualPosition:function(h,g){var n=h+f.position.left,m=g+f.position.top;switch(c.axis){case"x":m=null;break;case"y":n=null;break;default:break}if(c.container){if(n<d.minX){n=d.minX}else{if(n>d.maxX){n=d.maxX}}if(m<d.minY){m=d.minY}else{if(m>d.maxY){m=d.maxY}}}return{left:n,top:m}}};var f={},d={};f.$this=a(this).eq(0);return e.init()},cgDrop:function(c){c=a.extend({handler:null,container:null,zIndex:10,cursor:null,axis:"xy",iframeFix:true,overlay:null,opacity:0.5,accept:window,clone:false,drag:function(){},start:function(){},stop:function(){},over:function(){},out:function(){},drop:function(){}},c);var b={destory:function(){a(f.handler).unbind("mousedown",e.start);a(document).unbind("mousemove",e.drag);a(document).unbind("mouseup",e.stop);e.draggable=false},disable:function(){a(f.handler).unbind("mousedown",e.start)},enable:function(){a(f.handler).bind("mousedown",e.start)},option:function(g,h){if(h){c[g]=h}else{if(g){return c[g]}}}};var e={draggable:true,init:function(){if(c.clone){var g=f.$this.getOffset();f.drag=f.$this.clone().appendTo(f.$this.parent());if(f.$this.parent().css("position")!="absolute"){f.$this.parent().css("position","relative")}if(f.$this.css("position")!="absolute"){f.$this.css("position","absolute")}f.$this.setPosition(g.left,g.top)}f.handler=c.handler?a(c.handler,f.$this):f.$this;f.accept=a(c.accept);f.container=a(c.container);if(f.$this.css("position")!="absolute"){f.$this.css("position","relative")}f.handler.mousedown(e.start);return b},start:function(g){if(!e.draggable){return false}f.position=f.$this.getPosition();f.currentPosition=f.position;f.offset=f.$this.getOffset();f.size=f.$this.getSize();f.cOffset=f.container.getOffset();f.cSize=f.container.getSize();d.pageX=g.pageX;d.pageY=g.pageY;scope=f.$this.getScope(f.container);d.minX=scope.minX;d.maxX=scope.maxX;d.minY=scope.minY;d.maxY=scope.maxY;d.isOver=false;if(a.isFunction(c.start)&&c.start.call(f.$this,g,f)==false){return false}if(c.iframeFix){d.iframeOverlay=a("body").cgOverlay({opacity:0,cursor:c.cursor})}if(c.overlay){d.overlay=a(c.container).cgOverlay({opacity:c.overlay.opacity,overflow:c.overlay.overflow,zIndex:c.overlay.zIndex})}f.$this.css({opacity:c.opacity,"z-index":c.zIndex});f.handler.css("cursor",c.cursor);a(document).mousemove(e.drag).mouseup(e.stop);g.stopPropagation();g.preventDefault()},drag:function(n){var m=n.pageX-d.pageX,h=n.pageY-d.pageY,p=e.getActualPosition(m,h),g=p.left-f.currentPosition.left,o=p.top-f.currentPosition.top;f.currentPosition=p;if(a.isFunction(c.drag)&&c.drag.call(f.$this,n,f,g,o)==false){return false}if(f.accept.isCover(n.pageX,n.pageY)){if(!d.isOver){e.over(n);d.isOver=true}}else{if(d.isOver){e.out(n);d.isOver=false}}f.$this.setPosition(f.currentPosition.left,f.currentPosition.top);return false},stop:function(g){if(a.isFunction(c.stop)&&c.stop.call(f.$this,g,f)==false){return false}e.drop(g);if(c.iframeFix){d.iframeOverlay.destory()}if(c.overlay){d.overlay.destory()}f.$this.resetCss("opacity");f.handler.resetCss("cursor");a(document).unbind("mousemove",e.drag).unbind("mouseup",e.stop)},over:function(g){if(a.isFunction(c.over)){c.over.call(f.$this,g,f)}},out:function(g){if(a.isFunction(c.out)){c.out.call(f.$this,g,f)}},drop:function(g){if(a.isFunction(c.drop)){c.drop.call(f.$this,g,f)}},getActualPosition:function(h,g){var n=h+f.position.left,m=g+f.position.top;switch(c.axis){case"x":m=null;break;case"y":n=null;break;default:break}if(c.container){if(n<d.minX){n=d.minX}else{if(n>d.maxX){n=d.maxX}}if(m<d.minY){m=d.minY}else{if(m>d.maxY){m=d.maxY}}}return{left:n,top:m}}};var f={},d={};f.$this=a(this).eq(0);return e.init()},cgResize:function(c){c=a.extend({handler:null,min:null,max:null,zIndex:10,cursor:null,axis:"xy",direction:"se",iframeFix:true,overlay:null,opacity:0.8,resize:null,start:null,stop:null},c);var b={destory:function(){a(f.handler).unbind("mousedown",e.start);a(document).unbind("mousemove",e.resize);a(document).unbind("mouseup",e.stop);e.resizable=false},disable:function(){a(f.handler).unbind("mousedown",e.start)},enable:function(){a(f.handler).bind("mousedown",e.start)},option:function(g,h){if(h){c[g]=h}else{if(g){return c[g]}}}};var e={resizable:true,init:function(){f.handler=c.handler?a(c.handler,f.$this):f.$this;f.handler.mousedown(e.start);return b},start:function(g){if(!e.resizable){return false}f.size=f.$this.getSize();f.currentSize={};f.currentSize.width=f.size.width;f.currentSize.height=f.size.height;d.pageX=g.pageX;d.pageY=g.pageY;if(a.isFunction(c.start)&&c.start.call(f.$this,g,f)==false){return false}if(c.iframeFix){d.iframeOverlay=a("body").cgOverlay({opacity:0,cursor:c.cursor})}if(c.overlay){d.overlay=a(c.container).cgOverlay({opacity:c.overlay.opacity,overflow:c.overlay.overflow,zIndex:c.overlay.zIndex})}f.$this.css({opacity:c.opacity,"z-index":c.zIndex});f.handler.css("cursor",c.cursor);a(document).mousemove(e.resize).mouseup(e.stop);g.stopPropagation();g.preventDefault()},resize:function(o){var n=o.pageX-d.pageX,h=o.pageY-d.pageY;switch(c.direction){case"n":n=0;h=-h;break;case"s":n=0;break;case"w":n=-n;h=0;break;case"e":h=0;break;case"ne":h=-h;break;case"nw":h=-h;n=-n;break;case"se":break;case"sw":n=-n;break}var m=e.getActualSize(n,h),g=m.width-f.currentSize.width,p=m.height-f.currentSize.height;f.currentSize=m;if(a.isFunction(c.resize)&&c.resize.call(f.$this,o,f,g,p)==false){return false}f.$this.setSize(f.currentSize.width,f.currentSize.height);return false},stop:function(g){if(a.isFunction(c.stop)&&c.stop.call(f.$this,g,f)==false){return false}if(c.iframeFix){d.iframeOverlay.destory()}if(c.overlay){d.overlay.destory()}f.$this.resetCss("opacity");f.handler.resetCss("cursor");a(document).unbind("mousemove",e.resize).unbind("mouseup",e.stop)},getActualSize:function(m,h){var n=m+f.size.width,g=h+f.size.height;switch(c.axis){case"x":g=null;break;case"y":n:null;break;default:break}if(c.min&&!CG.isInvalid(c.min.width)&&n<c.min.width){n=c.min.width}else{if(c.max&&!CG.isInvalid(c.max.width)&&n>c.max.width){n=c.max.width}}if(c.min&&!CG.isInvalid(c.min.height)&&g<c.min.height){g=c.min.height}else{if(c.max&&!CG.isInvalid(c.max.height)&&g>c.max.height){g=c.max.height}}return{width:n,height:g}}};var f={},d={};f.$this=a(this).eq(0);return e.init()},cgPosition:function(b){b=a.extend({x:"left",y:"bottom",zIndex:null,monitor:true,target:"body"},b);var d={init:function(){return e.$this.each(function(){d.setPos(a(this),a(b.target));if(b.monitor){a(window).bind("resize scroll",{"$this":a(this),target:a(b.target)},d.monitorHandler)}})},monitorHandler:function(f){d.setPos(f.data.$this,f.data.target)},setPos:function(p,o){var h=o.getSize(),f=p.getSize(),q=o.getOffset(),g=p.getScope(o),n=0,m=0;switch(b.x){case"center":n=g.minX+(h.outerWidth-f.outerWidth)/2;break;case"right":n=g.minX+h.outerWidth;break;case"left":n=g.minX+0;break;default:n=g.minX+(b.x||0);break}switch(b.y){case"middle":m=g.minY+(h.outerHeight-f.outerHeight)/2;break;case"bottom":m=g.minY+h.outerHeight;break;case"top":m=g.minY+0;break;default:m=g.minY+(b.y||0);break}if(p.css("position")=="absolute"){p.css({left:n,top:m,"z-index":b.zIndex})}else{p.css({position:"relative",left:n,top:m,"z-index":b.zIndex})}}};var c={},e={};e.$this=a(this);return d.init()},cgOverlay:function(c){c=a.extend({opacity:0.3,zIndex:null,background:"#000",cursor:null,overflow:null,appendTo:"body",monitor:true},c);var b={destory:function(h){var g=function(n){var m=n.data("cg_overlay_id");a("#"+m).remove();if(c.monitor){n.unbind("resize scroll",e.monitorHandler)}n.resetCss("overflow");if(n[0]==window){a("body").resetCss("overflow")}};if(!h){f.$this.each(function(){g(a(this))})}else{g(h)}},enable:function(h){var g=function(o){var m=o.data("cg_overlay_id"),n=o.getSize();a("#"+m).setSize(n.outerWidth,n.outerHeight).cgShow()};if(!h){f.$this.each(function(){g(a(this))})}else{g(h)}},disable:function(h){var g=function(o){var n=o.data("cg_overlay_id"),m=o.data("overlay");m.hide()};if(!h){f.$this.each(function(){g(a(this))})}else{g(h)}},option:function(g,h){if(h){c[g]=h}else{if(g){return c[g]}}}};var e={init:function(){f.$this.each(function(){e.create(a(this))});return b},create:function(n){var o=n.getOffset(),m=n.getSize(),h="cg_overlay_"+CG.getId(),g=a(CG.CONST.OVERLAY_HTML);if(f.$this.selector=="body"){m=n.getMaxSize(window)}n.data("cg_overlay_id",h).data("overlay",g).css("overflow",c.overflow);if(n[0]==window){a("body").css("overflow",c.overflow)}g.css({opacity:c.opacity,"z-index":c.zIndex,cursor:c.cursor,background:c.background,position:"absolute",left:o.left,top:o.top,width:m.outerWidth,height:m.outerHeight}).attr("id",h).appendTo(c.appendTo);if(c.monitor){n.bind("resize scroll",{overlay:g},e.monitorHandler)}},monitorHandler:function(m){var h=a(this).getSize(),g=a(this).getScroll();m.data.overlay.setSize(h.outerWidth+g.scrollLeft,h.outerHeight+g.scrollTop)}};var f={},d={};f.$this=a(this);return e.init()},cgShow:function(c,d,f,e,b){b=b||0;d=d||0;switch(c){case"slide":this.stop(true,true).delay(b).slideDown(d,f,e);break;case"fade":this.stop(true,true).delay(b).fadeIn(d,f,e);break;default:this.stop(true,true).delay(b).show(d,f,e)}return this},cgHide:function(c,d,f,e,b){b=b||0;d=d||0;switch(c){case"slide":this.stop(true,true).delay(b).slideUp(d,f,e);break;case"fade":this.stop(true,true).delay(b).fadeOut(d,f,e);break;default:this.stop(true,true).delay(b).hide(d,f,e)}return this}})})(jQuery);(function(a){a.fn.cgAccordion=function(b){var b=a.extend({},{title:".accordion-title",content:".accordion-content",speed:300,selectedClass:"accordion-selected",current:0,up:null,down:null,event:"click",multiple:true},b);return this.each(function(){var c={};c.$this=a(this);c.titles=a(b.title,c.$this);c.contents=a(b.content,c.$this);c.current=b.current;c.flag=true;c.titles.removeClass(b.selectedClass);c.contents.not(c.contents.eq(c.current)).hide();c.titles.each(function(d){a(this).bind(b.event,function(){title=a(this);if(!b.multiple){if(d!=c.current&&c.flag){c.flag=false;c.next=d;c.titles.eq(c.current).removeClass(b.selectedClass);a(this).addClass(b.selectedClass);c.contents.eq(c.current).stop().slideUp(b.speed,function(f){c.current=c.next;c.flag=true;if(a.isFunction(b.up)){b.up.call(a(this),f,title,d,c)}});c.contents.eq(c.next).stop().slideDown(b.speed,function(f){if(a.isFunction(b.down)){b.down.call(a(this),f,title,d,c)}})}}else{if(a(this).hasClass(b.selectedClass)){a(this).removeClass(b.selectedClass);c.contents.eq(d).stop().slideUp(b.speed,function(f){if(a.isFunction(b.up)){b.up.call(a(this),f,title,d,c)}})}else{a(this).addClass(b.selectedClass);c.contents.eq(d).stop().slideDown(b.speed,function(f){if(a.isFunction(b.down)){b.down.call(a(this),f,title,d,c)}})}}})});c.titles.eq(c.current).addClass(b.selectedClass);c.contents.eq(c.current).show()})}})(jQuery);(function(a){a.alert=function(c){var c=a.extend(true,{info:"",icon:"icon-success",width:320,height:120,modal:true,handler:function(d){d.data.dialog.close()}},c);var b='<div class="message '+c.icon+'">'+c.info+"</div>";return a.fn.cgDialog.init({type:"msgbox",content:b,width:c.width,modal:c.modal,iframe:false,closable:false,resizable:false,draggable:false,buttons:[{text:"确定",handler:c.handler}]})}})(jQuery);(function(a){a.fn.cgAutoHeight=function(b){b=a.extend(true,{iframe:parent.$("iframe"),width:null,height:null,monitorWidth:false,monitorHeight:true},b);var d=function(g,f,e){g.setSize(f,e)};var c=function(f,e){if(b.width){f=b.width}if(b.height){e=b.height}if(!b.monitorWidth){f=null}if(!b.monitorHeight){e=null}return{width:f,height:e}};return a(b.iframe).each(function(){var g=a(this),e=a("body").getSize(true,true),f=c(e.outerWidth,e.outerHeight);d(g,f.width,f.height);window.onload=function(){e=a("body").getSize(true,true);f=c(e.outerWidth,e.outerHeight);d(g,f.width,f.height)}})}})(jQuery);(function(a){a.fn.cgCalendar=function(d){var d=a.extend(true,{format:"yyyy-mm-dd hh:MM:ss",shortWeeks:["日","一","二","三","四","五","六"],weeks:["星期天","星期一","星期二","星期三","星期四","星期五","星期六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],timePanelNames:["时","分","秒"],buttons:["清空","今天","确定"],startWeek:0,disabledDates:null,disabledDays:null,disabledWeeks:null,disabledMonths:null,disabledYears:null,disabledTimes:null,disabledHours:null,disabledMinutes:null,disabledSeconds:null,selectedDates:null,showTimePanel:true,showTimeSelectPanel:true,showTolls:true,showClear:true,showToday:true,showConfirm:true,startDate:null,dateRange:null,timeRange:null,validate:null,beforeSelect:null,beforeClick:null,click:null,mouseover:null,mouseout:null,dblclick:null,clearHandler:null,todayHandler:null,confirmHandler:null,event:null,eventHandler:null,speed:100,width:null,height:null,href:"",complete:true,language:"zh"},d||{});var c={stringToDate:function(t,x){var v=new Date();var f="^"+x+"$",h,u=v.getFullYear(),s=v.getMonth()+1,w=v.getDate(),q=0,p=0,g=0,o;try{var n;if(x.indexOf("yyyy")!=-1){h=new RegExp(b.getReg(f,"yyyy"));n=t.match(h);if(n&&n[1]){u=n[1]}}if(x.indexOf("mm")!=-1){h=new RegExp(b.getReg(f,"mm"));n=t.match(h);if(n&&n[1]){s=n[1]}}if(x.indexOf("dd")!=-1){h=new RegExp(b.getReg(f,"dd"));n=t.match(h);if(n&&n[1]){w=n[1]}}if(x.indexOf("hh")!=-1){h=new RegExp(b.getReg(f,"hh"));n=t.match(h);if(n&&n[1]){q=n[1]}}if(x.indexOf("MM")!=-1){h=new RegExp(b.getReg(f,"MM"));n=t.match(h);if(n&&n[1]){p=n[1]}}if(x.indexOf("ss")!=-1){h=new RegExp(b.getReg(f,"ss"));n=t.match(h);if(n&&n[1]){g=n[1]}}o=new Date(u,s-1,w,q,p,g,0)}catch(r){return new Date()}return o},dateToString:function(f,m){var n="";var h=function(o,p){p=p.replace("yyyy",o.getFullYear());p=p.replace("mm",(o.getMonth()+1)>=10?o.getMonth()+1:"0"+(o.getMonth()+1));p=p.replace("dd",o.getDate()>=10?o.getDate():"0"+o.getDate());p=p.replace("hh",o.getHours()>=10?o.getHours():"0"+o.getHours());p=p.replace("MM",o.getMinutes()>=10?o.getMinutes():"0"+o.getMinutes());p=p.replace("ss",o.getSeconds()>=10?o.getSeconds():"0"+o.getSeconds());p=p.replace("w",d.weeks[o.getDay()]);return p};try{n=h(f,m)}catch(g){n=h(new Date(),m)}return n},getRealDate:function(f,g){if(typeof f=="string"){f=c.stringToDate(f,g)}else{if(!f){return new Date()}}return f},show:function(f){if(arguments.length==0){f=this.doms.datepicker}f.fadeIn(d.speed)},hide:function(f){if(arguments.length==0){f=this.doms.datepicker}f.fadeOut(d.speed)},isDisabledDate:function(o,r,s){var t=o,B;if(typeof s!="undefined"&&s){if(this.doms){var h=b.unique(b.merge(this.doms.disabledDates||[],d.disabledDates||[])),z=b.unique(b.merge(this.doms.disabledDays||[],d.disabledDays||[])),g=b.unique(b.merge(this.doms.disabledWeeks||[],d.disabledWeeks||[])),v=b.unique(b.merge(this.doms.disabledYears||[],d.disabledYears||[])),q=b.unique(b.merge(this.doms.disabledMonths||[],d.disabledMonths||[]))}else{var h=d.disabledDates,z=d.disabledDays,g=d.disabledWeeks,v=d.disabledYears,q=d.disabledMonths}if(h){var u=c.dateToString(o,"yyyy-mm-dd");for(var p=0;p<h.length;p++){if(u==h[p]){return true}}}if(z){var t=o.getDate();for(var p=0;p<z.length;p++){if(t==z[p]){return true}}}if(g){var A=o.getDay();for(var p=0;p<g.length;p++){if(A==g[p]){return true}}}if(v){var x=o.getFullYear();for(var p=0;p<v.length;p++){if(x==v[p]){return true}}}if(q){var n=o.getMonth();for(var p=0;p<q.length;p++){if(n==q[p]){return true}}}B=r.dateRange;t=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0,0)}else{B=d.dateRange;if(!d.showTimePanel){t=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0,0)}}if(!B||!B.min&&!B.max){return false}if(B.max&&B.min&&t<=B.max&&t>=B.min||!B.min&&B.max&&t<=B.max||!B.max&&B.min&&t>=B.min){return false}else{return true}return false},isDisabledTime:function(w,o,x){if(!d.showTimePanel){return false}if(this.doms){var v=b.unique(b.merge(this.doms.disabledHours||[],d.disabledHours||[])),u=b.unique(b.merge(this.doms.disabledMinutes||[],d.disabledMinutes||[])),f=b.unique(b.merge(this.doms.disabledSeconds||[],d.disabledSeconds||[])),g=b.unique(b.merge(this.doms.disabledTimes||[],d.disabledTimes||[]))}else{var v=d.disabledHours,u=d.disabledMinutes,f=d.disabledSeconds,g=d.disabledTimes}if(arguments.length==1){try{var q=w.getHours();o=w.getMinutes();x=w.getSeconds();q=q>9?q:("0"+q);o=o>9?o:("0"+o);x=x>9?x:("0"+x)}catch(r){return undefined}}else{var q=w;if(q.length==1){q="0"+q}if(o.length==1){o="0"+o}if(x.length==1){x="0"+x}}if(g){var t=(q)+":"+(o)+":"+(x);for(var p=0;p<g.length;p++){if(t==g[p]){return true}}}if(v){for(var p=0;p<v.length;p++){if(q==v[p]){return true}}}if(u){for(var p=0;p<u.length;p++){if(o==u[p]){return true}}}if(f){for(var p=0;p<f.length;p++){if(x==f[p]){return true}}}if(!d.timeRange||!d.timeRange.min&&!d.timeRange.max){return false}var n=new Date(1970,0,1,q,o,x,0);if(d.timeRange.min&&d.timeRange.max&&n>=d.timeRange.min&&n<=d.timeRange.max||!d.timeRange.max&&d.timeRange.min&&n>=d.timeRange.min||!d.timeRange.min&&d.timeRange.max&&n<=d.timeRange.max){return false}else{return true}return false},getDate:function(h,g){if(arguments.length==1){g=this.doms}var f=new Date(h.attr("year"),h.attr("month"),h.attr("day"),g.hour.val()||0,g.minute.val()||0,g.second.val()||0,0);return f},nextMonth:function(f){f.setMonth(f.getMonth()+1);return f},prevMonth:function(f){f.setMonth(f.getMonth()-1);return f},nextYear:function(f){f.setYear(f.getFullYear()+1);return f},prevYear:function(f){f.setYear(f.getFullYear()-1);return f},setDateRange:function(f){d.dateRange=f;b.initDateRange(this.doms)},setTimeRange:function(f){d.timeRange=f;b.initTimeRange()},getDoms:function(){return this.doms},refresh:function(g){var p=g;if(arguments.length==0){b.setMonthByDate(this.doms.currentDate,this.doms);p=this.doms.currentDate}else{b.setMonthByDate(g,this.doms);this.doms.currentDate=new Date(g)}if(d.showTimePanel&&d.showTimeSelectPanel){this.doms.hoursBox.children("table").html(b.getHMSHtml("h",this.doms));this.doms.minutesBox.children("table").html(b.getHMSHtml("m",this.doms));this.doms.secondsBox.children("table").html(b.getHMSHtml("s",this.doms))}if(d.showTimePanel&&arguments.length>=1){var o=p.getHours(),f=p.getMinutes(),n=p.getSeconds();this.doms.hour.val(o>9?o:("0"+o));this.doms.minute.val(f>9?f:("0"+f));this.doms.second.val(n>9?n:("0"+n))}},destory:function(){if(this.doms.isInput){this.doms.$this.unbind("click foucsin")}this.doms.datepicker.remove()}};var b={unique:function(m){m=m||[];var f={};for(var h=0;h<m.length;h++){var g=m[h];if(typeof(f[g])=="undefined"){f[g]=1}}m.length=0;for(var h in f){m[m.length]=h}return m},merge:function(o){var g=arguments.length,n=new Array();for(var m=0;m<g;m++){var f=arguments[m].length;for(var h=0;h<f;h++){n.push(arguments[m][h])}}return n},getReg:function(f,g){f=f.replace(g,"("+g+")");f=f.replace("yyyy","\\d{4}");f=f.replace("mm","\\d{2}");f=f.replace("dd","\\d{2}");f=f.replace("hh","\\d{2}");f=f.replace("MM","\\d{2}");f=f.replace("ss","\\d{2}");return f},setMonthByDate:function(f,m){var g=f.getFullYear(),h=f.getMonth();m.daysBox.html(b.getDaysHtml(g,f.getMonth(),m));m.month.html(d.months[h]).attr("month",h);m.year.html(g).attr("year",g);m.ableDays=a(".days td:not('.unselected-day'):not('.un-day') a",m.datepicker[0]);m.unselectedDays=a(".days .unselected-day a",m.datepicker[0]);m.unDays=a(".days .un-day a",m.datepicker[0]);m.days=a(".days a",m.datepicker[0])},selectDate:function(o,t,r){if(t.isInput){var n=c.dateToString(o,d.format);t.$this.val(n);t.$this.data("date",o);c.hide(t.datepicker)}b.setMonthByDate(o,t);if(typeof r!="undefined"&&r){var q=o.getHours(),g=o.getMinutes(),p=o.getSeconds();t.hour.val(q>9?q:("0"+q));t.minute.val(g>9?g:("0"+g));t.second.val(p>9?p:("0"+p))}},getDays:function(f,g){var h=new Date(f,g+1,0);return h.getDate()},getDaysHtml:function(t,q,m){var n="",x=b.getDays(t,q),n="<tr>"+b.getPreDaysHtml(t,q),v=new Array(),o,u=c.dateToString(m.today,"yyyy-mm-dd");v=b.unique(b.merge(m.clickDates,m.selectedDates||[],d.selectedDates));o=v.length;var w=function(A){var s=a("<td></td>");if(c.isDisabledDate(A,m,1)){s.addClass("unselected-day")}if(!s.hasClass("unselected-day")){var B=c.dateToString(A,"yyyy-mm-dd");for(var z=0;z<o;z++){if(B==v[z]){s.addClass("selected-day");break}}}if(B==u){s.addClass("today")}if(s.attr("class")){return'class="'+s.attr("class")+'"'}return""};for(var h=1,g=b.getPreDays(t,q);h<=x;h++,g++){if(!(g%7)&&g!=0){n+="</tr><tr>"}var p=new Date(t,q,h),y=c.dateToString(p,d.format),r="<tr><td "+w(p)+'><a href="'+(d.href||"")+'" year="'+t+'" month="'+q+'" day="'+h+'">'+h+"</a></td></tr>",f=a(r);if(a.isFunction(d.validate)){d.validate.call(this,y,p,a("td a",f),m)}n+=f.html()}n+=b.getNextDaysHtml(t,q)+"</tr>";return n},getPreDays:function(h,m){var f=new Date(h,m,1);var g=(f.getDay()+7-d.startWeek)%7,o;o=g;if(d.complete&&o==0){o=7}return o},getPreDaysHtml:function(r,q){var f=b.getPreDays(r,q),p="";var t=b.getDays(r,q-1);var g=new Date(r,q-1,t);var s=g.getFullYear(),h=g.getMonth();for(var o=t-f+1;o<=t;o++){p+='<td class="un-day"><a href="'+(d.href||"")+'" year="'+s+'" month="'+h+'" day="'+o+'">'+o+"</a></td>"}return p},getNextDays:function(h,m){var f=new Date(h,m,b.getDays(h,m));var g=(f.getDay()+7-d.startWeek)%7,o;o=7-g-1;return o},getNextDaysHtml:function(r,q){var f=b.getNextDays(r,q),p="";var g=new Date(r,q+1,1);var t=b.getDays(r,q);var s=g.getFullYear(),h=g.getMonth();var o=1;for(;o<=f;o++){p+='<td class="un-day"><a href="'+(d.href||"")+'" year="'+s+'" month="'+h+'" day="'+o+'">'+o+"</a></td>"}if(d.complete&&(b.getPreDays(r,q)+t+f)<42){p+="</tr><tr>";for(;o<=f+7;o++){p+='<td class="un-day"><a href="'+(d.href||"")+'" year="'+s+'" month="'+h+'" day="'+o+'">'+o+"</a></td>"}}return p},getWeeksHtml:function(){var h='<thead  class="weeks"><tr>';for(var g=d.startWeek,f=0;f<7;g=(g+1)%7,f++){h+="<th>"+d.shortWeeks[g]+"</th>"}h+="</tr></thead>";return h},getYearsHtml:function(h,g,m){var f="<tr>";for(h=(g=="+"?h:h-19),j=0;j<20;j++,h++){if(!(j%4)&&j!=0){f+="</tr><tr>"}f+='<td year="'+h+'">'+h+"</td>"}m.years=a("td:not('.un-year')",a(f+"</tr>"));return f+"</tr>"},getMonthsHtml:function(){var g="<tr>";for(var f=0;f<12;f++){if(!(f%2)&&f!=0){g+="</tr><tr>"}g+='<td month="'+f+'">'+d.months[f]+"</td>"}return g+"</tr>"},getHMSHtml:function(x,p){var q="<tr>",f,w="hour",v=59,m=63;if(x=="h"){if(p){f=b.unique(b.merge(p.disabledHours||[],d.disabledHours||[]))}else{f=d.disabledHours}v=23;m=28}else{if(x=="m"){if(p){f=b.unique(b.merge(p.disabledMinutes||[],d.disabledMinutes||[]))}else{f=d.disabledMinutes}w="minute"}else{if(p){f=b.unique(b.merge(p.disabledSeconds||[],d.disabledSeconds||[]))}else{f=d.disabledSeconds}w="second"}}var u=function(t,A){var z,g,y;if(d.timeRange.min){z=d.timeRange.min.getHours()}if(d.timeRange.max){g=d.timeRange.max.getHours()}if(z&&g&&t>=z&&t<=g||!g&&z&&t>=z||!z&&g&&t<=g){y="<td "+A+'="'+t+'">'+t+"</td>"}else{y='<td class="unselected-time" '+A+'="'+t+'">'+t+"</td>"}return y};for(var o=0,n=0;o<m;o++){if(!(o%7)&&o!=0){q+="</tr><tr>"}if(n>v){if(o==m-1){q+='<td class="un-time" title="close">x</td>'}else{q+='<td class="un-time" title="close"></td>'}continue}else{var h=0,r=n;n=n>9?n:"0"+n;if(f){var s=f.length;for(h=0;h<s;h++){if(r==f[h]){q+='<td class="unselected-time" '+w+'="'+n+'">'+n+"</td>";break}}if(f&&h==s){if(x=="h"&&d.timeRange){q+=u(n,w)}else{q+="<td "+w+'="'+n+'">'+n+"</td>"}}}else{if(x=="h"&&d.timeRange){q+=u(n,w)}else{q+="<td "+w+'="'+n+'">'+n+"</td>"}}n++}}return q+"</tr>"},createHtml:function(g,o){var s=g.getFullYear(),r=g.getMonth(),n=g.getHours(),m=g.getMinutes(),f=g.getSeconds();n=n>9?n:("0"+n);m=m>9?m:("0"+m);f=f>9?f:("0"+f);var v='<div class="nav"><div class="month-nav"><span class="button prev">&#171;</span><span class="month-name"></span><span class="button next">&#187;</span></div><div class="year-nav"><span class="button prev">&#171;</span><span class="year-name"></span><span class="button next">&#187;</span></div></div>';var t='<div class="time"><span class="hour">'+d.timePanelNames[0]+' : <input type="text" id="hour" maxlength="2" value="'+n+'"/></span> <span class="minute">'+d.timePanelNames[1]+' : <input type="text" id="minute" maxlength="2" value="'+m+'"/></span> <span class="second">'+d.timePanelNames[2]+' : <input type="text" id="second" maxlength="2" value="'+f+'"/></span></div>';var q='<div class="tollbars">';if(d.showConfirm){q+='<input type="button" value="'+d.buttons[2]+'" id="okBtn"/>'}if(d.showToday){q+='<input type="button" value="'+d.buttons[1]+'" id="todayBtn"/>'}if(d.showClear){q+='<input type="button" value="'+d.buttons[0]+'" id="clearBtn"/>'}q+="</div>";var u='<div class="year" id="year"><table></table><div class="year-tollbars"><span class="button prev">&#171;</span><span class="year-name"></span><span class="button next">&#187;</span></div></div>';var h='<div class="month" id="month"><table></table></div>';var p='<div class="datepicker" id="datepicker">';p+=v+'<table id="days">'+b.getWeeksHtml()+'<tbody class="days"></tbody></table>';if(d.showTimePanel){p+=t}if(d.showTolls){p+=q}if(d.showTimePanel&&d.showTimeSelectPanel){p+='<div id="hour-select" class="time-select"><table>'+b.getHMSHtml("h",o)+"</table></div>";p+='<div id="minute-select" class="time-select"><table>'+b.getHMSHtml("m")+"</table></div>";p+='<div id="second-select" class="time-select"><table>'+b.getHMSHtml("s")+"</table></div>"}p=p+u+h;p+="</div>";return p},_hideIfClickOutside:function(f){var h=f.data.datepickerInput,g=a(f.target);if(f.target!=h[0]&&!b._checkPosition(f,f.data.datepicker)){c.hide(f.data.datepicker)}},_checkPosition:function(f,g){var h=g.offset();h.right=h.left+g.outerWidth(true);h.bottom=h.top+g.outerHeight(true);return f.pageY<h.bottom&&f.pageY>h.top&&f.pageX<h.right&&f.pageX>h.left},setPosition:function(g,f){g.css({position:"absolute",top:f.offset().top+f.outerHeight(true),left:f.offset().left})},setLanguage:function(){switch(d.language){case"en":d.shortWeeks=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];d.weeks=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];d.months=["January","February","March","April","May","June","July","August","September","October","November","December"];d.shortMonths=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];d.timePanelNames=["hour","minute","second"];d.buttons=["clear","today","ok"];break;defualt:break}},initDateRange:function(f){if(d.dateRange.min){d.dateRange.min=c.getRealDate(d.dateRange.min,"yyyy-mm-dd hh:MM:ss");var g=new Date(d.dateRange.min.getFullYear(),d.dateRange.min.getMonth(),d.dateRange.min.getDate(),0,0,0,0);if(!d.showTimePanel){d.dateRange.min=g}f.dateRange.min=g}else{f.dateRange.min=null}if(d.dateRange.max){d.dateRange.max=c.getRealDate(d.dateRange.max,"yyyy-mm-dd hh:MM:ss");var g=new Date(d.dateRange.max.getFullYear(),d.dateRange.max.getMonth(),d.dateRange.max.getDate(),0,0,0,0);if(!d.showTimePanel){d.dateRange.max=g}f.dateRange.max=g}else{f.dateRange.max=null}},initTimeRange:function(){if(d.timeRange.min){d.timeRange.min=c.getRealDate(d.timeRange.min,"hh:MM:ss");d.timeRange.min=new Date(1970,0,1,d.timeRange.min.getHours(),d.timeRange.min.getMinutes(),d.timeRange.min.getSeconds(),0)}if(d.timeRange.max){d.timeRange.max=c.getRealDate(d.timeRange.max,"hh:MM:ss");d.timeRange.max=new Date(1970,"0",1,d.timeRange.max.getHours(),d.timeRange.max.getMinutes(),d.timeRange.max.getSeconds(),0)}},checkNum:function(g){var f=59;if(g.data){f=g.data.max}if(/^[\d]{0,2}$/.test(a(this).val())){if(a(this).val()>f){a(this).val(f);return false}return true}a(this).val("00");return false},checkCode:function(g){var f=g.keyCode;if(f>=48&&f<=57||f>=96&&f<=105||f==8||f==46||f==9){return true}return false}};var e=new Array();a(this).each(function(n){var p=a(this),f,m={},h,o=true;var g=function(){m.currentDate=d.startDate;m.isInput=false;if(p[0].tagName=="INPUT"){m.isInput=true}m.clickDates=new Array();m.dateRange={};m.dateRange.min=null;m.dateRange.max=null;m.timeRange={};m.timeRange.min=null;m.timeRange.max=null;m.selectedDates=new Array();d.selectedDates=d.selectedDates||[];if(d.dateRange){b.initDateRange(m)}if(d.timeRange){b.initTimeRange()}if(d.startWeek<0||d.startWeek>6){d.startWeek=0}else{d.startWeek=parseInt(d.startWeek)}b.setLanguage()};var r=function(){g();if(m.isInput){if(p.val()){m.currentDate=c.getRealDate(p.val(),d.format)}else{m.currentDate=c.getRealDate(m.currentDate,d.format)}m.clickDates.push(c.dateToString(m.currentDate,"yyyy-mm-dd"));h=a(b.createHtml(m.currentDate,m));f="body";p.unbind("click foucsin").bind("click foucsin",function(s){if(o){h.hide().appendTo(f);b.setPosition(h,p);c.show(h);a(document).click({datepickerInput:p,datepicker:h},b._hideIfClickOutside);o=false}else{b.setPosition(h,p);c.show(h)}})}else{m.currentDate=c.getRealDate(m.currentDate,d.format);m.clickDates.push(c.dateToString(m.currentDate,"yyyy-mm-dd"));h=a(b.createHtml(m.currentDate,m));f=p;h.appendTo(f)}h.css({width:d.width,height:d.height});if(!d.showTimeSelectPanel){m.hour=a(".time span",h).css("cursor","default")}m.$this=p;m.today=new Date();m.datepicker=h;m.month=a(".month-nav .month-name",h);m.prevMonth=a(".month-nav .prev",h);m.nextMonth=a(".month-nav .next",h);m.year=a(".year-nav .year-name",h);m.prevYear=a(".year-nav .prev",h);m.nextYear=a(".year-nav .next",h);m.daysBox=a("#days tbody",h);m.clearBtn=a("#clearBtn",h);m.todayBtn=a("#todayBtn",h);m.okBtn=a("#okBtn",h);m.hour=a(".time #hour",h);m.minute=a(".time #minute",h);m.second=a(".time #second",h);m.yearBox=a("#year",h);m.nextYears=a(".year-tollbars .next",m.yearBox);m.preYears=a(".year-tollbars .prev",m.yearBox);m.currentYear=a(".year-tollbars .year-name",m.yearBox);m.years=a("table td:not('.un-year')",m.yearBox[0]);m.monthBox=a("#month",h);m.months=a("table td:not('.un-month')",m.monthBox[0]);m.hoursBox=a("#hour-select",h);m.hours=a("#hour-select td:not(.un-time):not(.unselected-time)",h[0]);m.unHours=a("#hour-select .un-time",h[0]);m.minutesBox=a("#minute-select",h);m.minutes=a("#minute-select td:not(.un-time):not(.unselected-time)",h[0]);m.unMinutes=a("#minute-select .un-time",h[0]);m.secondsBox=a("#second-select",h);m.seconds=a("#second-select td:not(.un-time):not(.unselected-time)",h[0]);m.unSeconds=a("#second-select .un-time",h[0]);m.ableDays=a(".days td:not('.unselected-day'):not('.un-day') a",h[0]);m.unselectedDays=a(".days .unselected-day a",h[0]);m.unDays=a(".days .un-day a",h[0]);m.days=a(".days a",h[0]);if(!d.showTimeSelectPanel){m.hour.keydown(b.checkCode).keyup({max:23},b.checkNum);m.minute.keydown(b.checkCode).keyup(b.checkNum);m.second.keydown(b.checkCode).keyup(b.checkNum)}b.setMonthByDate(m.currentDate,m);q()};var q=function(){var y=a("#days",h),A=a(".tollbars",h),x=a(".time",h);var s=function(){y.hide();A.hide();x.hide()};var t=function(){y.fadeIn(d.speed);A.fadeIn(d.speed);x.fadeIn(d.speed)};var w=function(){m.hoursBox.hide();m.minutesBox.hide();m.secondsBox.hide()};var z=true,v=true;m.year.click(function(){w();if(m.yearBox.is(":visible")){m.yearBox.hide();t()}else{s();m.monthBox.hide();if(z){var B=m.today.getFullYear();m.currentYear.html(B).attr("year",B);a("table",m.yearBox).html(b.getYearsHtml(parseInt(m.year.html()),"+",m));z=false}m.yearBox.fadeIn(d.speed)}return false});m.nextYears.click(function(){a("table",m.yearBox).html(b.getYearsHtml(parseInt(m.years.eq(m.years.length-1).html())+1,"+",m))});m.preYears.click(function(){a("table",m.yearBox).html(b.getYearsHtml(parseInt(m.years.eq(0).html())-1,"-",m))});m.years.live("click",function(){var B=a(this).attr("year");m.currentDate.setYear(B);b.setMonthByDate(m.currentDate,m);m.yearBox.hide();t()});m.currentYear.bind("click",function(){var B=a(this).attr("year");m.currentDate.setYear(B);b.setMonthByDate(m.currentDate,m);m.yearBox.hide();t()});m.month.click(function(){w();if(m.monthBox.is(":visible")){m.monthBox.hide();t()}else{s();m.yearBox.hide();if(v){a("table",m.monthBox).html(b.getMonthsHtml());m.months=a("table td:not('.un-month')",m.monthBox[0]);v=false}m.monthBox.fadeIn(d.speed)}return false});m.months.live("click",function(){var B=a(this).attr("month");m.currentDate.setMonth(B);b.setMonthByDate(m.currentDate,m);m.monthBox.hide();t()});var u=function(){a(".time .hour",h).click(function(){s();m.hoursBox.fadeIn(d.speed);return false});a(".time .minute",h).click(function(){s();m.minutesBox.fadeIn(d.speed);return false});a(".time .second",h).click(function(){s();m.secondsBox.fadeIn(d.speed);return false});m.hours.live("click",function(){m.hour.val(a(this).attr("hour"));m.hoursBox.hide();t()});m.minutes.live("click",function(){m.minute.val(a(this).attr("minute"));m.minutesBox.hide();t()});m.seconds.live("click",function(){if(!c.isDisabledTime(m.hour.val(),m.minute.val(),a(this).attr("second"))){m.second.val(a(this).attr("second"));m.secondsBox.hide();t()}});m.unHours.live("click",function(){m.hoursBox.hide();t()});m.unMinutes.live("click",function(){m.minutesBox.hide();t()});m.unSeconds.live("click",function(){m.secondsBox.hide();t()})};if(d.showTimeSelectPanel){u()}m.prevMonth.click(function(){var B=c.prevMonth(m.currentDate);b.setMonthByDate(B,m)});m.nextMonth.click(function(){var B=c.nextMonth(m.currentDate);b.setMonthByDate(B,m)});m.prevYear.click(function(){var B=c.prevYear(m.currentDate);b.setMonthByDate(B,m)});m.nextYear.click(function(){var B=c.nextYear(m.currentDate);b.setMonthByDate(B,m)});m.unselectedDays.live("click",function(){return false});m.unDays.live("click",function(){return false});if(d.showTolls&&m.isInput){if(d.showClear){m.clearBtn.bind("click",function(C){var D=function(){p.val("");c.hide(h)};if(a.isFunction(d.clearHandler)){var B=d.clearHandler.call(this,C,p,h);if(typeof B=="undefined"||B){D()}}else{D()}})}if(d.showToday){m.todayBtn.bind("click",function(F){var D=new Date(),B=c.dateToString(D,d.format);var C=function(){if(!c.isDisabledDate(D)&&!c.isDisabledTime(D)){var G=true;if(a.isFunction(d.beforeSelect)){G=d.beforeSelect.call(this,B,D,p,m)}if(typeof G=="undefined"||G){b.selectDate(D,m,true)}}};if(a.isFunction(d.todayHandler)){var E=d.todayHandler.call(this,F,B,D,p,m);if(typeof E=="undefined"||E){C()}}else{C()}})}if(d.showConfirm){m.okBtn.bind("click",function(G){if(m.ableDays.length<1){return false}var D=m.ableDays.last(),C,E;m.ableDays.each(function(){if(a(this).parent().hasClass("selected-day")){D=a(this);return}});E=c.getDate(D,m);C=c.dateToString(E,d.format);var B=function(){if(!c.isDisabledDate(E)&&!c.isDisabledTime(E)){var H=true;if(a.isFunction(d.beforeSelect)){H=d.beforeSelect.call(this,C,E,p,m)}if(typeof H=="undefined"||H){m.clickDates=new Array();m.clickDates.push(c.dateToString(E,"yyyy-mm-dd"));b.selectDate(E,m)}}};if(a.isFunction(d.confirmHandler)){var F=d.confirmHandler.call(this,G,C,E,p,m);if(typeof F=="undefined"||F){B()}}else{B()}})}}m.ableDays.live("click",function(H){var C=c.getDate(a(this),m),B=c.dateToString(C,d.format),D=a(this);var F=function(){if(!c.isDisabledDate(C)&&!c.isDisabledTime(C)){var I=true;if(a.isFunction(d.beforeSelect)){I=d.beforeSelect.call(this,B,C,D,m)}if(m.isInput&&(typeof I=="undefined"||I)){m.clickDates=new Array();m.clickDates.push(c.dateToString(C,"yyyy-mm-dd"));b.selectDate(C,m)}}};if(a.isFunction(d.beforeClick)){var G=d.beforeClick.call(this,H,B,C,D,m);if(typeof G=="undefined"||G){F()}else{return false}}else{F()}if(a.isFunction(d.click)){var E;E=d.click.call(this,H,B,C,D,m);if(typeof E=="undefined"||!E){return false}else{return true}}else{return false}});if(a.isFunction(d.dblclick)){m.ableDays.live("dblclick",function(C){var B=c.getDate(a(this),m);return d.dblclick.call(this,C,c.dateToString(B,d.format),B,a(this),m)})}if(a.isFunction(d.mouseover)){m.ableDays.live("mouseover",function(C){var B=c.getDate(a(this),m);return d.mouseover.call(this,C,c.dateToString(B,d.format),B,a(this),m)})}if(a.isFunction(d.mouseout)){m.ableDays.live("mouseout",function(C){var B=c.getDate(a(this),m);return d.mouseout.call(this,C,c.dateToString(B,d.format),B,a(this),m)})}if(a.isFunction(d.eventHandler)&&d.event){m.ableDays.live(d.event,function(C){var B=c.getDate(a(this),m);return d.eventHandler.call(this,C,c.dateToString(B,d.format),B,a(this),m)})}};r();c.doms=m;e.push(c);return});return e[0]}})(jQuery);(function(a){a.fn.cgColorPicker=function(d){var c=new Array("00","33","66","99","CC","FF");var e=new Array("FF0000","00FF00","0000FF","FFFF00","00FFFF","FF00FF");var g=jQuery.extend({},{ishex:true,fillcolor:true,target:null,event:"click",success:function(){},reset:function(){}},d);b();return this.each(function(m){var n=a(this);n.bind(g.event,function(){var p=a(this).offset().top;var q=a(this).outerHeight(true);var o=a(this).offset().left;a("#colorpanel").css({top:p+q,left:o}).show();a(document).bind("click",{obj:n},f);var r=g.target?a(g.target):n;var s=r.val();if(s){a("#DisColor").css("background",s);a("#HexColor").val(s)}a("#_creset").unbind("click").bind("click",function(){a("#colorpanel").hide();r.val("");if(a.isFunction(g.reset)){g.reset(n)}});a("#colorlist tr td").unbind("click").mouseover(function(){var t=a(this).css("background-color");a("#DisColor").css("background",t);a("#HexColor").val(a(this).attr("rel"))}).click(function(){var u=a(this).css("background");var t=g.ishex?a(this).attr("rel"):u;if(g.fillcolor){r.val(t).css("color",t)}a("#colorpanel").hide();a(document).unbind("click",f);if(a.isFunction(g.success)){g.success(n,t)}})})});function f(m){var n=m.data.obj;if(m.target!=n[0]&&!h(m,a("#colorpanel"))){a("#colorpanel").hide();a(document).unbind("click",f)}}function h(m,n){var o=n.offset();o.right=o.left+n.outerWidth(true);o.bottom=o.top+n.outerHeight(true);return m.pageY<o.bottom&&m.pageY>o.top&&m.pageX<o.right&&m.pageX>o.left}function b(){a("body").append('<div id="colorpanel" style="position: absolute; display: none;background:#F1F1F1;z-index:1000;border-radius: 4px; box-shadow: 0 0 4px #718BB7;border:1px solid #718BB7"></div>');var m="";var n="";for(i=0;i<2;i++){for(j=0;j<6;j++){m=m+'<tr height="12">';m=m+'<td width="11" rel="#000000" style="background-color:#000000">';n=i==0?c[j]+c[j]+c[j]:e[j];m=m+'<td width="11" rel="#'+n+'" style="background-color:#'+n+'">';m=m+'<td width="11" rel="#000000" style="background-color:#000000">';for(k=0;k<3;k++){for(l=0;l<6;l++){n=c[k+i*3]+c[l]+c[j];m=m+'<td width="11" rel="#'+n+'" style="background-color:#'+n+'">'}}}}m='<table width="253" border="0" cellspacing="0" cellpadding="0"><tr height="30"><td style="background:#F1F1F1;padding:0px 10px;"><input type="button" id="_cclose" style="float:right;border:1px solid #CCCCCC;height:20px;width:40px;" value="关闭" /><input type="button" id="_creset" style="float:right;border:1px solid #CCCCCC;height:20px;width:40px;margin-right:2px" value="清空" /><input type="text" id="DisColor" size="6" disabled style="border:solid 1px #000000;margin-right:10px;"><input type="text" id="HexColor" size="6"></td></tr></table><table id="colorlist" border="1" cellspacing="0" bordercolor="#000" cellpadding="0" style="border-collapse: collapse;cursor:pointer;">'+m+"</table>";a("#colorpanel").html(m);a("#_cclose").live("click",function(){a("#colorpanel").hide();return false})}}})(jQuery);(function(a){a.confirm=function(c){var c=a.extend(true,{info:"",icon:"icon-confirm",width:320,height:120,modal:true,confirm:function(d){d.data.dialog.close()},cancel:function(d){d.data.dialog.close()}},c);var b='<div class="message '+c.icon+'">'+c.info+"</div>";return a.fn.cgDialog.init({type:"msgbox",content:b,width:c.width,modal:c.modal,iframe:false,closable:false,resizable:false,draggable:false,buttons:[{text:"确定",handler:c.confirm},{text:"取消",handler:c.cancel}]})}})(jQuery);(function(a){a.fn.cgDragSort=function(c){if(c=="destroy"){a(this.selector).trigger("dragsort-uninit");return}var d=a.extend({},{itemSelector:"",dragSelector:"",dragSelectorExclude:"input, textarea",dragEnd:function(){},dragBetween:false,placeHolderTemplate:"",scrollContainer:window,scrollSpeed:5},c);var b=[];var f=null,e=null;this.each(function(h,g){if(a(g).is("table")&&a(g).children().size()==1&&a(g).children().is("tbody")){g=a(g).children().get(0)}var m={draggedItem:null,placeHolderItem:null,pos:null,offset:null,offsetLimit:null,scroll:null,container:g,init:function(){var n=a(this.container).children().size()==0?"li":a(this.container).children(":first").get(0).tagName.toLowerCase();if(d.itemSelector==""){d.itemSelector=n}if(d.dragSelector==""){d.dragSelector=n}if(d.placeHolderTemplate==""){d.placeHolderTemplate="<"+n+">&nbsp;</"+n+">"}a(this.container).attr("data-listidx",h).mousedown(this.grabItem).bind("dragsort-uninit",this.uninit);this.styleDragHandlers(true)},uninit:function(){var n=b[a(this).attr("data-listidx")];a(n.container).unbind("mousedown",n.grabItem).unbind("dragsort-uninit");n.styleDragHandlers(false)},getItems:function(){return a(this.container).children(d.itemSelector)},styleDragHandlers:function(n){this.getItems().map(function(){return a(this).is(d.dragSelector)?this:a(this).find(d.dragSelector).get()}).css("cursor",n?"pointer":"")},grabItem:function(r){if(r.which!=1||a(r.target).is(d.dragSelectorExclude)||a(r.target).closest(d.dragSelectorExclude).size()>0||a(r.target).closest(d.itemSelector).size()==0){return}r.preventDefault();var n=r.target;while(!a(n).is(d.dragSelector)){if(n==this){return}n=n.parentNode}a(n).attr("data-cursor",a(n).css("cursor"));a(n).css("cursor","move");var q=b[a(this).attr("data-listidx")];var p=this;var o=function(){q.dragStart.call(p,r);a(q.container).unbind("mousemove",o)};a(q.container).mousemove(o).mouseup(function(){a(q.container).unbind("mousemove",o);a(n).css("cursor",a(n).attr("data-cursor"))})},dragStart:function(s){if(f!=null&&f.draggedItem!=null){f.dropItem()}f=b[a(this).attr("data-listidx")];f.draggedItem=a(s.target).closest(d.itemSelector);f.draggedItem.attr("data-origpos",a(this).attr("data-listidx")+"-"+f.getItems().index(f.draggedItem));var p=parseInt(f.draggedItem.css("marginTop"));var u=parseInt(f.draggedItem.css("marginLeft"));f.offset=f.draggedItem.offset();f.offset.top=s.pageY-f.offset.top+(isNaN(p)?0:p)-1;f.offset.left=s.pageX-f.offset.left+(isNaN(u)?0:u)-1;if(!d.dragBetween){var r=a(f.container).outerHeight()==0?Math.max(1,Math.round(0.5+f.getItems().size()*f.draggedItem.outerWidth()/a(f.container).outerWidth()))*f.draggedItem.outerHeight():a(f.container).outerHeight();f.offsetLimit=a(f.container).offset();f.offsetLimit.right=f.offsetLimit.left+a(f.container).outerWidth()-f.draggedItem.outerWidth();f.offsetLimit.bottom=f.offsetLimit.top+r-f.draggedItem.outerHeight()}var q=f.draggedItem.height();var o=f.draggedItem.width();if(d.itemSelector=="tr"){f.draggedItem.children().each(function(){a(this).width(a(this).width())});f.placeHolderItem=f.draggedItem.clone().attr("data-placeholder",true);f.draggedItem.after(f.placeHolderItem);f.placeHolderItem.children().each(function(){a(this).css({borderWidth:0,width:a(this).width()+1,height:a(this).height()+1}).html("&nbsp;")})}else{f.draggedItem.after(d.placeHolderTemplate);f.placeHolderItem=f.draggedItem.next().css({height:q-1}).attr("data-placeholder",true)}if(d.itemSelector=="td"){var n=f.draggedItem.closest("table").get(0);a("<table id='"+n.id+"' style='border-width: 0px;' class='dragSortItem "+n.className+"'><tr></tr></table>").appendTo("body").children().append(f.draggedItem)}var t=f.draggedItem.attr("style");f.draggedItem.attr("data-origstyle",t?t:"");f.draggedItem.css({position:"absolute",opacity:0.8,"z-index":999,height:q,width:o});f.scroll={moveX:0,moveY:0,maxX:a(document).width()-a(window).width(),maxY:a(document).height()-a(window).height()};f.scroll.scrollY=window.setInterval(function(){if(d.scrollContainer!=window){a(d.scrollContainer).scrollTop(a(d.scrollContainer).scrollTop()+f.scroll.moveY);return}var v=a(d.scrollContainer).scrollTop();if(f.scroll.moveY>0&&v<f.scroll.maxY||f.scroll.moveY<0&&v>0){a(d.scrollContainer).scrollTop(v+f.scroll.moveY);f.draggedItem.css("top",f.draggedItem.offset().top+f.scroll.moveY+1)}},10);f.scroll.scrollX=window.setInterval(function(){if(d.scrollContainer!=window){a(d.scrollContainer).scrollLeft(a(d.scrollContainer).scrollLeft()+f.scroll.moveX);return}var v=a(d.scrollContainer).scrollLeft();if(f.scroll.moveX>0&&v<f.scroll.maxX||f.scroll.moveX<0&&v>0){a(d.scrollContainer).scrollLeft(v+f.scroll.moveX);f.draggedItem.css("left",f.draggedItem.offset().left+f.scroll.moveX+1)}},10);a(b).each(function(w,v){v.createDropTargets();v.buildPositionTable()});f.setPos(s.pageX,s.pageY);a(document).bind("mousemove",f.swapItems);a(document).bind("mouseup",f.dropItem);if(d.scrollContainer!=window){a(window).bind("DOMMouseScroll mousewheel",f.wheel)}},setPos:function(o,s){var q=s-this.offset.top;var p=o-this.offset.left;if(!d.dragBetween){q=Math.min(this.offsetLimit.bottom,Math.max(q,this.offsetLimit.top));p=Math.min(this.offsetLimit.right,Math.max(p,this.offsetLimit.left))}this.draggedItem.parents().each(function(){if(a(this).css("position")!="static"&&(!a.browser.mozilla||a(this).css("display")!="table")){var t=a(this).offset();q-=t.top;p-=t.left;return false}});if(d.scrollContainer==window){s-=a(window).scrollTop();o-=a(window).scrollLeft();s=Math.max(0,s-a(window).height()+5)+Math.min(0,s-5);o=Math.max(0,o-a(window).width()+5)+Math.min(0,o-5)}else{var n=a(d.scrollContainer);var r=n.offset();s=Math.max(0,s-n.height()-r.top)+Math.min(0,s-r.top);o=Math.max(0,o-n.width()-r.left)+Math.min(0,o-r.left)}f.scroll.moveX=o==0?0:o*d.scrollSpeed/Math.abs(o);f.scroll.moveY=s==0?0:s*d.scrollSpeed/Math.abs(s);this.draggedItem.css({top:q,left:p})},wheel:function(o){if((a.browser.safari||a.browser.mozilla)&&f&&d.scrollContainer!=window){var n=a(d.scrollContainer);var p=n.offset();if(o.pageX>p.left&&o.pageX<p.left+n.width()&&o.pageY>p.top&&o.pageY<p.top+n.height()){var q=o.detail?o.detail*5:o.wheelDelta/-2;n.scrollTop(n.scrollTop()+q);o.preventDefault()}}},buildPositionTable:function(){var n=[];this.getItems().not([f.draggedItem[0],f.placeHolderItem[0]]).each(function(o){var p=a(this).offset();p.right=p.left+a(this).outerWidth();p.bottom=p.top+a(this).outerHeight();p.elm=this;n[o]=p});this.pos=n},dropItem:function(){if(f.draggedItem==null){return}var n=f.draggedItem.attr("data-origstyle");f.draggedItem.attr("style",n);if(n==""){f.draggedItem.removeAttr("style")}f.draggedItem.removeAttr("data-origstyle");f.styleDragHandlers(true);f.placeHolderItem.before(f.draggedItem);f.placeHolderItem.remove();a("[data-droptarget], .dragSortItem").remove();window.clearInterval(f.scroll.scrollY);window.clearInterval(f.scroll.scrollX);if(f.draggedItem.attr("data-origpos")!=a(b).index(f)+"-"+f.getItems().index(f.draggedItem)){d.dragEnd.apply(f.draggedItem)}f.draggedItem.removeAttr("data-origpos");f.draggedItem=null;a(document).unbind("mousemove",f.swapItems);a(document).unbind("mouseup",f.dropItem);if(d.scrollContainer!=window){a(window).unbind("DOMMouseScroll mousewheel",f.wheel)}return false},swapItems:function(s){if(f.draggedItem==null){return false}f.setPos(s.pageX,s.pageY);var r=f.findPos(s.pageX,s.pageY);var q=f;for(var o=0;r==-1&&d.dragBetween&&o<b.length;o++){r=b[o].findPos(s.pageX,s.pageY);q=b[o]}if(r==-1){return false}var n=function(){return a(q.container).children().not(q.draggedItem)};var p=n().not(d.itemSelector).each(function(t){this.idx=n().index(this)});if(e==null||e.top>f.draggedItem.offset().top||e.left>f.draggedItem.offset().left){a(q.pos[r].elm).before(f.placeHolderItem)}else{a(q.pos[r].elm).after(f.placeHolderItem)}p.each(function(){var t=n().eq(this.idx).get(0);if(this!=t&&n().index(this)<this.idx){a(this).insertAfter(t)}else{if(this!=t){a(this).insertBefore(t)}}});a(b).each(function(u,t){t.createDropTargets();t.buildPositionTable()});e=f.draggedItem.offset();return false},findPos:function(n,p){for(var o=0;o<this.pos.length;o++){if(this.pos[o].left<n&&this.pos[o].right>n&&this.pos[o].top<p&&this.pos[o].bottom>p){return o}}return -1},createDropTargets:function(){if(!d.dragBetween){return}a(b).each(function(){var o=a(this.container).find("[data-placeholder]");var n=a(this.container).find("[data-droptarget]");if(o.size()>0&&n.size()>0){n.remove()}else{if(o.size()==0&&n.size()==0){if(d.itemSelector=="td"){a(d.placeHolderTemplate).attr("data-droptarget",true).appendTo(this.container)}else{a(this.container).append(f.placeHolderItem.removeAttr("data-placeholder").clone().attr("data-droptarget",true))}f.placeHolderItem.attr("data-placeholder",true)}}})}};m.init();b.push(m)});return this}})(jQuery);(function($){$.cgForm={validate:function(obj){var flags=obj.attr("flags")||"",reg=new RegExp(obj.attr("reg"),flags),value=obj.attr("value")||"",inputType=obj.attr("inputType"),flag=true,ajaxFlag=true,needed=eval(obj.attr("needed")),min=obj.attr("min"),max=obj.attr("max"),minLength=obj.attr("minLength"),maxLength=obj.attr("maxLength");if(obj[0].tagName=="SELECT"){value="";var len=$("option:selected",obj).length;$("option:selected",obj).each(function(index){if($(this).val()){value+=$(this).val();if(len-1>index){value+=(obj.attr("delimiter")||"|")}}})}var validate=function(){if(minLength&&(""+minLength).isNumber()){flag=(value.length>=minLength)}if(flag&&maxLength&&(""+maxLength).isNumber()){flag=(value.length<=maxLength)}if(flag&&value.isNumber()){if(flag&&min&&(""+min).isNumber()){min=parseFloat(min);flag=(value>=min)}if(flag&&max&&(""+max).isNumber()){max=parseFloat(max);flag=(value<=max)}}if(!flag){return}if(flag&&!reg.test(value)){flag=false}else{if(flag){if(obj.attr("url")!=undefined){ajaxFlag=$.cgForm.ajaxValidate(obj,value);flag=ajaxFlag}}}};if(needed){if(value.length<1){flag=false}else{flag=$.cgForm.validateType(inputType,value);validate()}}else{if(value.length>0){flag=$.cgForm.validateType(inputType,value);validate()}}if(flag&&ajaxFlag){$.cgForm.hideTips(obj)}else{if(ajaxFlag){$.cgForm.showTips(obj)}}return flag},validateType:function(inputType,value){var flag=true;if(inputType){switch(inputType){case"number":flag=value.isNumber();break;case"negativeNumber":flag=value.isNegativeNumber();break;case"positiveNumber":flag=value.isPositiveNumber();break;case"integer":flag=value.isInteger();break;case"positiveInteger":flag=value.isPositiveInteger();break;case"negativeInteger":flag=value.isNegativeInteger();break;case"email":flag=(new RegExp(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/).test(value));break;case"mobilephone":flag=(new RegExp(/^\d{11}$/).test(value));break;case"telphone":flag=(new RegExp(/(^([0-9]{3,4}[-])?\d{3,8}(-\d{1,6})?$)|(^\([0-9]{3,4}\)\d{3,8}(\(\d{1,6}\))?$)|(^\d{7,8}$)/).test(value));break;case"phone":flag=(new RegExp(/(^([0-9]{3,4}[-])?\d{3,8}(-\d{1,6})?$)|(^\([0-9]{3,4}\)\d{3,8}(\(\d{1,6}\))?$)|(^\d{7,8}$)|(^\d{11}$)/).test(value));break;case"url":flag=(new RegExp(/^[a-zA-z]+:\/\/([a-zA-Z0-9\-\.]+)([-\w .\/?%&=:]*)$/).test(value));break;case"idcard":flag=(new RegExp(/^\d{15}(\d{2}[A-Za-z0-9])?$/).test(value));break;case"chinese":flag=(new RegExp(/^[\u0391-\uFFE5]+$/).test(value));break;case"qq":flag=(new RegExp(/^[1-9]\d{4,}$/).test(value));break;case"ip":flag=(new RegExp(/^([1-9]\d{0,2}){1}\.([1-9]\d{0,2}){1}\.([1-9]\d{0,2}){1}$/).test(value));break}}return flag},ajaxValidate:function(obj,value){var url_str=obj.attr("url"),callback="",data={},flag=true;data[obj.attr("name")]=value||obj.attr("value");callback=$.ajax({url:url_str,dataType:"html",data:data,async:false,type:obj.attr("requestType")||"post",success:function(feed_back){},error:function(){$.cgForm.showTips(obj,"出现异常，请重试！")}}).responseText;if(callback=="success"){$.cgForm.hideTips(obj);return true}else{$.cgForm.showTips(obj,callback)}return false},showTips:function(obj,tip){tip=tip?tip:obj.attr("tips");if(!obj.data("style")&&obj.data("style")!=""){obj.data("style",obj.attr("style")||"")}obj.css("border","2px solid #F00");if(tip){if(!obj.data("cg-form-tooltips")){var tipsId="cg-form-tooltips-"+(new Date()).getTime();var html='<div id="cg-form-tooltips" class="cg-tooltips"><div id="form-tip-arrow" class="cg-tooltips-arrow"></div><div id="cg-tooltips-message">'+tip+"</div></div>",$html=$(html);$html.css({position:"absolute",left:obj.offset().left,top:obj.offset().top+obj.outerHeight(true)+10}).addClass(tipsId).hide().appendTo("body").fadeIn(200);obj.data("cg-form-tooltips",tipsId)}else{$("#cg-tooltips-message",$("."+obj.data("cg-form-tooltips"))).html(tip);$("."+obj.data("cg-form-tooltips")).css({left:obj.offset().left,top:obj.offset().top+obj.outerHeight(true)+10}).fadeIn(200)}}},hideTips:function(obj){if(obj.data("style")!="undefined"){obj.attr("style",obj.data("style"))}$("."+obj.data("cg-form-tooltips")).fadeOut(200)}};$.fn.clearFormTips=function(){$("input,textarea,select,:radio,:checkbox",$(this)).filter("[reg],[url],[inputType],[needed],[min],[max],[minLength],[maxLength]").each(function(){$.cgForm.hideTips($(this))})};$.fn.initForm=function(o){o=$.extend(true,{xOffset:null,yOffset:null,errorClass:"cg-form-failed",beforeSend:null,success:null,error:null,async:true,cache:false,dataType:"html",type:"post",url:null,delimiter:"|",params:null,extendedValidate:null,validateFail:null,submitBtn:".submit",clearBtn:".clear",resetBtn:".reset",ajaxSubmitBtn:".ajax-submit"},o);return $(this).each(function(){var $this=$(this);if(!o.type){o.type=$this.attr("method")}if(!o.url){o.url=$this.attr("action")}var initBtn=function(){var submit=$(o.submitBtn,$this),ajaxSubmit=$(o.ajaxSubmitBtn,$this),reset=$(o.resetBtn,$this),clear=$(o.clearBtn,$this);submit.click(function(e){var btn=$(this);if(btn.attr("href")){$this.attr("action",btn.attr("href"))}if($this.validateForm({extendedValidate:o.extendedValidate,xOffset:o.xOffset,yOffset:o.yOffset,errorClass:o.errorClass})){$this[0].submit()}e.preventDefault()});ajaxSubmit.click(function(e){var btn=$(this);if(btn.attr("href")){$this.attr("action",btn.attr("href"));o.url=btn.attr("href")}$this.submitForm({beforeSend:o.beforeSend,success:o.success,error:o.error,async:o.async,cache:o.cache,dataType:o.dataType,type:o.type,url:o.url,delimiter:o.delimiter,params:o.params,extendedValidate:o.extendedValidate,validateFail:o.validateFail});e.preventDefault()});reset.click(function(e){$this.resetForm();e.preventDefault()});clear.click(function(e){$this.clearForm();e.preventDefault()})};initBtn();$this.submit(function(){if(!($this.validateForm({extendedValidate:o.extendedValidate,xOffset:o.xOffset,yOffset:o.yOffset,errorClass:o.errorClass}))){return false}});$("input,textarea,select,:radio,:checkbox",$this).filter("[reg],[url],[inputType],[needed],[min],[max],[minLength],[maxLength]").each(function(){$(this).unbind("focusin blur").focusin(function(){}).blur(function(){$.cgForm.validate($(this))})})})};$.fn.submitForm=function(o){o=$.extend(true,{beforeSend:null,success:null,error:null,async:true,cache:false,dataType:"html",type:"post",url:null,delimiter:"|",params:null,extendedValidate:null,validateFail:null},o);return $(this).each(function(){var $this=$(this);if(!o.type){o.type=$this.attr("method")}if(!o.url){o.url=$this.attr("action")}if($this.validateForm({extendedValidate:o.extendedValidate})){var data=$.extend({},$this.getFormData({delimiter:o.delimiter}),o.params||{});$.ajax({async:o.async,cache:o.cache,dataType:o.dataType,type:o.type,url:o.url,data:data,beforeSend:o.beforeSend,success:o.success,error:o.error})}else{if($.isFunction(o.validateFail)){o.validateFail()}}})};$.fn.resetForm=function(){$(this).each(function(){$(this)[0].reset()});return $(this)};$.fn.clearForm=function(){$("input:not(:button,:submit,:reset,:image,:radio,:checkbox),textarea",$(this)).val("");$("select option:selected,input:checkbox:checked,input:radio:checked",$(this)).attr("selected",false).attr("checked",false);return $(this)};$.fn.getFormData=function(o){o=$.extend(true,{delimiter:"|"},o);var $this=$(this).eq(0);var data={};$("input:not(:button,:submit,:reset,:checkbox,:radio,:image)[name],textarea[name],input[type=checkbox][name]:checked,input[type=radio][name]:checked",$this).each(function(){var name=$(this).attr("name"),value=$(this).val();if(value!=""&&name!=""){if(data[name]==undefined){data[name]=value}else{data[name]=data[name]+o.delimiter+value}}});$("select[name] option:selected",$this).each(function(){var name=$(this).parent().attr("name"),value=$(this).val();if(name!=""&&value!=""){if(data[name]==undefined){data[name]=value}else{data[name]=data[name]+o.delimiter+value}}});return data};$.fn.loadFormData=function(o){var $this=$(this).eq(0);o=$.extend(true,{beforeSend:null,success:null,error:null,cache:false,dataType:"json",type:"post",url:null,params:null,delimiter:"|"},o);$.ajax({cache:o.cache,dataType:o.dataType,type:o.type,url:o.url,data:o.params,beforeSend:o.beforeSend,success:function(data){if($.isFunction(o.success)&&o.success.call(this,data)==false){}else{if(data){setData(data)}}},error:o.error});var setData=function(data){$this.clearForm();$("input:text[name],select[name],textarea[name],input:checkbox[name],input:radio[name],input:hidden[name]",$this).each(function(index){var name=$(this).attr("name"),dataArray,value=data[name];if(value){dataArray=value.split(o.delimiter);var len=dataArray.length}if($(this).is(":checkbox")){for(var i=0;i<len;i++){if(dataArray[i]==$(this).val()){$(this).attr("checked",true)}}}else{if($(this)[0].tagName=="SELECT"){$("option",$(this)).each(function(index){for(var i=0;i<len;i++){if(dataArray[i]==$(this).val()){$(this).attr("selected",true)}}})}else{if($(this).is(":radio")){for(var i=0;i<len;i++){if(dataArray[i]==$(this).val()){$(this).attr("checked",true)}}}else{$(this).val(value)}}}})}};$.fn.validateForm=function(o){o=$.extend(true,{extendedValidate:null,xOffset:null,yOffset:null,errorClass:"cg-form-failed"},o);var isSubmit=true;$("input,textarea,select,:radio,:checkbox",$(this).eq(0)).filter("[reg],[url],[inputType],[needed],[min],[max],[minLength],[maxLength]").each(function(){isSubmit=$.cgForm.validate($(this));if(!isSubmit){return false}});if(isSubmit&&$.isFunction(o.extendedValidate)){return o.extendedValidate()}return isSubmit}})(jQuery);(function(a){a.messageBox=function(c){var c=a.extend(true,{info:"",width:320,height:120,modal:true,buttons:[{text:"确定",handler:function(d){}},{text:"取消",handler:function(d){d.data.dialog.close()}}]},c);var b='<div class="message customMsgbox">'+c.info+"</div>";return a.fn.cgDialog.init({type:"msgbox",content:b,width:c.width,modal:c.modal,iframe:false,closable:false,resizable:false,draggable:false,buttons:c.buttons})}})(jQuery);(function(a){a.prompt=function(c){var c=a.extend(true,{info:"",icon:"icon-confirm",width:320,height:120,modal:true,inputType:null,confirm:function(e,d){e.data.dialog.close()},cancel:function(d){d.data.dialog.close()}},c);var b='<div class="message '+c.icon+'">'+c.info+'<br/><input type="text" id="prompt-value" value=""/></div>';return a.fn.cgDialog.init({type:"msgbox",content:b,width:c.width,modal:c.modal,iframe:false,closable:false,resizable:false,draggable:false,buttons:[{text:"确定",handler:function(e){var f=e.data;result=a("#prompt-value",f.dialog.contentBox).val();if(c.inputType){var d=/^[\-]?(\d+\.?\d+|\d+)$/;switch(c.inputType){case"int":d=/^[\-]?\d+$/;break;case"pint":d=/^[\d]+$/;break;case"nint":d=/^\-[\d]+$/;break;case"email":d=/^[\w]+@\w{2,}\.\w{2,}/;break}if(d.test(result)){c.confirm(e,result)}}else{c.confirm(e,result)}}},{text:"取消",handler:c.cancel}]})}})(jQuery);(function(a){a.fn.cgSelect=function(c){c=a.extend(true,{width:null,height:null,change:null,left:null,top:null},c);var b={destory:function(){f.selectedOption.unbind("click",e.show);f.optionContainer.remove()},disable:function(){f.optionContainer.hide();f.selectedOption.unbind("click",e.show)},enable:function(){f.selectedOption.bind("click",e.show)}};var e={init:function(){f.select=a(CG.CONST.SELECT_HTML);f.selectedOption=f.select.find(".cg-select-name");var h="",g=false;f.$this.hide();f.$this.find("option").each(function(m){var n=a(this);if(n.is(":selected")){e.setValue(n,m);g=true;h+='<li value="'+n.attr("value")+'" selected="selected" class="option-selected">'+n.html()+"</li>"}else{h+='<li value="'+n.attr("value")+'">'+n.html()+"</li>"}});if(!g){e.setValue(f.$this.find("option:eq(0)"),0)}f.select.find(".cg-option ul").html(h);f.optionContainer=f.select.find(".cg-option");f.options=a("li",f.optionContainer);e.create();e.initCss()},initCss:function(){f.select.css("position","relative");f.optionContainer.css("position","absolute");if(c.left){f.optionContainer.setPosition(c.left,null)}else{if(!a.isNumeric(parseInt(f.optionContainer.css("left")))){f.optionContainer.setPosition(0,null)}}if(c.top){f.optionContainer.setPosition(null,c.top)}else{if(!a.isNumeric(parseInt(f.optionContainer.css("top")))){f.optionContainer.setPosition(null,f.selectedOption.getSize().outerHeight)}}if(c.width){f.optionContainer.setSize(c.width,null)}if(c.height){f.optionContainer.setSize(null,c.height)}},create:function(){f.select.appendTo(f.$this.parent());f.selectedOption.click(e.show);a(document).click(function(g){if(!f.select.isCover(g.pageX,g.pageY)&&!f.optionContainer.isCover(g.pageX,g.pageY)){e.hide()}});f.options.click(function(g){e.change(g,a(this))})},setValue:function(h,g){f.selectedOption.html(h.html()).attr("value",h.attr("value"));f.$this.find("option").attr("selected",false).eq(g).attr("selected",true)},change:function(h,g){if(a.isFunction(c.change)&&c.change.call(g,h,g.attr("value"),f)===false){}else{e.setValue(g,f.options.index(g));e.hide()}},show:function(){f.optionContainer.show()},hide:function(){f.optionContainer.hide()}};var f={},d={};f.$this=a(this).eq(0);return e.init()}})(jQuery);(function(a){a.fn.cgSlider=function(c){c=a.extend(true,{handler:null,start:null,stop:null,slide:null,vertical:false,width:230,maximum:100,minimum:0,value:60,toggleByClick:false,order:"desc",speed:0,fullmark:100,reverseValue:null,obverseValue:null},c);var b={getValue:function(e){var d=(e/c.width)*c.fullmark;if(c.order=="desc"){d=c.fullmark-d}if(a.isFunction(c.obverseValue)){d=c.obverseValue.call(this,d)}return d},getDistance:function(d){var e=(d/c.fullmark)*c.width;return e}};a(this).each(function(f){var m={};m.$this=a(this);var g=b.getDistance(c.minimum);var e=b.getDistance(c.maximum);var n=function(){m.$this.html(CG.CONST.SLIDER_HTML);c.width=c.width||200;m.container=a(".cg-slider-range-container",m.$this);m.container.width(c.width);m.handler=a(".cg-slider-handler",m.$this);m.range=a(".cg-slider-range",m.$this);m.value=c.value;if(a.isFunction(c.reverseValue)){m.value=c.reverseValue.call(this,m.value)}var o=b.getDistance(c.order=="desc"?c.fullmark-m.value:m.value);m.handler.setPosition(o);m.range.setSize(o);m.handler.html(parseInt(c.value))};n();var h=m.handler.cgDrag({axis:"x",opacity:1,iframeFix:false,start:function(q,p){var o=b.getValue(p.currentPosition.left);m.value=o;if(a.isFunction(c.start)&&c.start.call(m.$this,q,o,m,h)===false){return false}},drag:function(r,q,o){if(q.currentPosition.left<=g){q.currentPosition.left=g}else{if(q.currentPosition.left>=e){q.currentPosition.left=e}}var p=b.getValue(q.currentPosition.left);m.value=p;if(a.isFunction(c.slide)&&c.slide.call(m.$this,r,p,m,h)===false){return false}m.range.setSize(q.currentPosition.left);m.handler.html(parseInt(p))},stop:function(q,p){var o=m.value;if(a.isFunction(c.stop)&&c.stop.call(m.$this,q,o,m,h)===false){return false}}});var d=function(){if(c.toggleByClick){var p=m.range.getOffset().left;var o=function(s,r){var q;q=s.pageX-r;if(q>c.width){q=c.width}else{if(q<0){q=0}}return q};m.$this.mousedown(function(t){var q=o(t,p);var s=b.getValue(q);m.value=s;if(a.isFunction(c.start)&&c.start.call(m.$this,t,s,m,h)===false){return false}var r=function(w){var u=o(w,p);var v=b.getValue(u);m.value=v;if(a.isFunction(c.stop)&&c.stop.call(m.$this,w,v,m,h)===false){return false}m.handler.setPosition(u,null,c.speed);m.range.setSize(u,null,c.speed);m.handler.html(parseInt(v));w.stopPropagation()};a(this).one("mouseup",r);t.stopPropagation()})}};d()})}})(jQuery);(function(a){a.cgTabTotal=0;a.cgTab={close:function(d){var b=this;var e=b.getIndex(d);if(e!=-1){b.tab.remove();b.content.remove();d.cgTabs.del(e);d._afresh();var c=d.getCurrent();if(typeof c=="undefined"){c=e-1;if(c<0){c=0}}d._scroll();d.select(d.cgTabs[c])}},select:function(d){var b=this,c=b.getIndex(d);if(c==-1){return}if(d.cgTabs[d.current]){d.contents.hide();d.tabs.removeClass(d.selectedClass)}b.content.show();b.tab.addClass(d.selectedClass);d.current=c},reload:function(d){var b=this;var c=a("iframe",b.content);if(!d){c.attr("src",c.attr("src"))}else{c.attr("src",d)}},getIndex:function(b){return b.tabs.index(this.tab)},getValue:function(){var b=this.getIframe();if(b&&b.$){return b.$.returnValue}},getIframe:function(){var b;b=a("iframe",this.content)[0].contentWindow;return b},_init:function(c){var b=this;b.tab.unbind("click").click(function(){c.select(b)});a(".btn-role",b.tab).unbind("click").click(function(d){if(typeof b.closeHandler=="function"){b.closeHandler(d,b)}else{c.close(b)}})}};a.fn.cgTab={init:function(c){var f=a.extend(true,{},{id:"header-tabs",tabContainer:".tabs ul",tab:".tab",contentContainer:"#container",content:".iframe-box",selectedClass:"tab-selected",current:0,scrollEffect:{next:".tabs-button .icon-next",prev:".tabs-button .icon-pre",distance:300,speed:200}},c);var b={_scroll:function(){var r=this,h=r.tabContainer,g=r.tabWidth,m=r.tabContainer.parent().width();a(window).resize(function(){m=r.tabContainer.parent().width()});var q=Math.abs(parseInt(h.css("left")))||0;if(m>g-q){q=q-(m-(g-q));if(q<0){q=0}}if(h.css("position")!="absolute"){h.css({position:"relative",width:g,left:-q})}else{h.css({width:g,left:-q})}if(!h.parent().css("position")){h.parent().css({position:"relative"})}var n=function(){if(g>m){q=Math.abs(parseInt(h.css("left")));if(q<g-m){var o=r.scrollEffect.distance;if(o>g-m-q){o=g-m-q}h.stop().animate({left:"-="+o},r.scrollEffect.speed)}}};var p=function(){q=parseInt(h.css("left"));if(q<0){var o=r.scrollEffect.distance;if(Math.abs(q)<o){o=Math.abs(q)}h.stop().animate({left:"+="+o},r.scrollEffect.speed)}};r.scrollEffect.next.unbind("click").click(function(){n()});r.scrollEffect.prev.unbind("click").click(function(){p()});r.tabContainer.unbind("mousewheel").mousewheel(function(o,s){if(s>0){p()}else{if(s<0){n()}}return false})},_afresh:function(){var g=this;g.contents=a(g.content,g.contentContainer);g.tabs=a(g.tab,g.tabContainer);g.tabsLength=g.tabs.length;g.tabWidth=g._getTabBoxWidth()},_getTabBoxWidth:function(){var h=this;var g=0;if(a.ieVersion<=7){g=2}h.tabContainer.width(10000);h.tabs.each(function(m){g+=parseInt(h.tabs.eq(m).outerWidth(true))});h.tabContainer.width(g);return g},add:function(m){a.cgTabTotal+=1;var n=this,q={};m=a.extend(true,{},{id:"tab_"+a.cgTabTotal,title:"",content:"",contentHtml:null,iframe:true,href:null,closable:true,closeHandler:null,icon:null,repeat:false,before:function(){},after:function(){}},m);if(typeof n.before=="function"){if(!n.before()){return}}var r=n.exist({id:m.id});if(!m.repeat&&r!=-1){n.select(n.cgTabs[r]);return n.cgTabs[r]}var h='<li class="btn tab"><div class="btn-left"></div><div class="btn-inner"><span class="btn-icon"></span><span class="btn-title"></span><span class="btn-role"></span></div><div class="btn-right"></div></li>';if(m.contentHtml){var u=m.contentHtml}else{var u='<div class="iframe-box"></div>'}var s;if(m.iframe){s="<iframe frameborder='0' width='100%' height='100%' scrolling='auto' src="+m.href+"></iframe>"}else{if(typeof m.content=="string"){s=m.content}else{try{s=m.content.outerHTML()}catch(t){}}}q.tab=a(h).attr("id",m.id);q.content=a(u).html(s);if(!m.closable){a(".btn-role",q.tab).remove()}if(m.icon){a(".btn-icon",q.tab).addClass(m.icon)}else{a(".btn-icon",q.tab).remove()}a(".btn-title",q.tab).html(m.title);q.tab.appendTo(n.tabContainer);q.content.appendTo(n.contentContainer);n._afresh();n._scroll();var v=n.tabWidth;var p=n.tabContainer.parent().width();if(v>p){n.tabContainer.stop().animate({left:-v+p},n.scrollEffect.speed)}var g=a.extend(true,{},m,q,a.cgTab);n.cgTabs.push(g);n.select(g);g._init(n);if(typeof n.after=="function"){if(!n.after()){return}}return g},getCurrent:function(){var h=this,g;h.tabs.each(function(m){if(a(this).hasClass(h.selectedClass)){this.current=m;g=m}});return g},getCurrentTab:function(){return this.cgTabs[this.getCurrent()]},selectTabById:function(h){var g=this.getTabById(h);if(g){this.select(g)}},select:function(g){if(g){g.select(this)}},close:function(g){g.close(this)},exist:function(n){for(var h=0;h<this.cgTabs.length;h++){var g=true;for(var m in n){g=g&&(n[m]==this.cgTabs[h][m])}if(g==true){return h}}return -1},getTabByParams:function(o){var m=new Array();for(var h=0;h<this.cgTabs.length;h++){var g=true;for(var n in o){g=g&&(o[n]==this.cgTabs[h][n])}if(g==true){m.push(this.cgTabs[h])}}return m},getTabById:function(h){for(var g=0;g<this.cgTabs.length;g++){if(h==this.cgTabs[g].id){return this.cgTabs[g]}}}};var e=a(this);f.tabContainer=a(f.tabContainer);f.tabs=a(f.tab,f.tabContainer);f.contentContainer=a(f.contentContainer);f.contents=a(f.content,f.contentContainer);f.scrollEffect.next=a(f.scrollEffect.next);f.scrollEffect.prev=a(f.scrollEffect.prev);f.tabsLength=f.tabs.length;var d=a.extend(true,{},f,b);d.tabContainer.attr("id",d.id);d.cgTabs=new Array();d.tabs.each(function(h){a.cgTabTotal+=1;var m={};m.id=a(this).attr("id")||("tab_"+a.cgTabTotal);a(this).attr("id",m.id);m.title=a(".btn-title",a(this)).html();m.closable=a(".btn-role",a(this)).length!=0;m.content=d.contents.eq(h);m.href=a("iframe",m.content).attr("src");m.tab=a(this);if(a(this).hasClass(d.selectedClass)){d.current=h}var g=a.extend(true,{},m,a.cgTab);d.cgTabs.push(g);g._init(d)});d._afresh();d.select(d.cgTabs[d.current]);d._scroll();return d}}})(jQuery);(function(a){a.tips=function(e){var e=a.extend(true,{top:"middle",left:"center",right:"auto",bottom:"auto",info:"",icon:"icon-success",time:1500},e);var c='<div id="wescms-tips" class="wescms-tips"><div class="wescms-tips-info"></div></div>';var d=function(f){a(".wescms-tips-info",f).addClass(e.icon).html(e.info);f.hide().getWindowSize({fun:function(o,h,g){var n=o.outerWidth(true);var m=o.outerHeight(true);o.css({left:e.left=="center"?(h-n)/2:e.left,right:e.right=="center"?(h-n)/2:e.right,top:e.top=="middle"?(g-m)/2:e.top,bottom:e.bottom=="middle"?(g-m)/2:e.bottom})},resizeChange:true})};var b=a(c).appendTo("body");d(b);b.animate({opacity:"show"},0);setTimeout(function(){b.animate({opacity:"hide"},200)},e.time)}})(jQuery);(function(a){a.fn.cgTolltip=function(d){var d=a.extend({track:true,content:null,speed:200},d);var b={showTips:function(e){var f=e.data("cg_tolltip_id");a("#"+f).fadeIn(d.speed)},hideTips:function(e){var f=e.data("cg_tolltip_id");a("#"+f).fadeOut(d.speed)},setPosition:function(f){var g=f.data.$this.data("cg_tolltip_id");a("#"+g).setPosition(f.pageX-15,f.pageY+30)}};var c=CG.getId();return a(this).each(function(f){var g=a(this),e=g.attr("tips");a(CG.CONST.TOLLTIP_HTML).attr("id","cg_tolltip_"+(c+f)).hide().appendTo("body").find(".cg-tooltips-message").html(e);g.data("cg_tolltip_id","cg_tolltip_"+(c+f));g.mouseover(function(){b.showTips(a(this));if(d.track){a(this).mousemove({"$this":a(this)},b.setPosition)}}).mouseleave(function(){b.hideTips(a(this));if(d.track){a(this).unbind("mousemove",b.setPosition)}})})}})(jQuery);(function(a){a.fn.cgAd=function(c){var c=a.extend({type:"random",speed:40,ie6Speed:300,top:100,left:0,right:0,bottom:"auto",closable:true,showLeft:true,showRight:true,onMouse:true,clonable:false,direction:1,zIndex:20000,before:function(){},mouseover:function(){},mouseout:function(){},after:function(){}},c||{});var b=function(d){if(d.direction==1){d.currentLeft++;d.currentTop++;d.$this.css({left:d.currentLeft,top:d.currentTop});if(d.winWidth-d.objWidth<=d.currentLeft){d.direction=4}if(d.winHeight-d.objHeight+d.documentScrollTop<=d.currentTop){d.direction=2}}if(d.direction==2){d.currentLeft++;d.currentTop--;d.$this.css({left:d.currentLeft,top:d.currentTop});if(d.winWidth-d.objWidth<=d.currentLeft){d.direction=3}if(d.currentTop<=0){d.direction=1}}if(d.direction==3){d.currentLeft--;d.currentTop--;d.$this.css({left:d.currentLeft,top:d.currentTop});if(d.currentLeft<=0){d.direction=2}if(d.currentTop<=0){d.direction=4}}if(d.direction==4){d.currentLeft--;d.currentTop++;d.$this.css({left:d.currentLeft,top:d.currentTop});if(d.currentLeft<=0){d.direction=1}if(d.winHeight-d.objHeight+d.documentScrollTop<=d.currentTop){d.direction=3}}};return this.each(function(){var h,o,g={};g.direction=c.direction;h=a(this);g.$this=h;var m=function(){g.winWidth=a(window).width();g.winHeight=a(window).height();g.objWidth=g.$this.outerWidth(true);g.objHeight=g.$this.outerHeight(true);a("img",g.$this).load(function(){g.objWidth=g.$this.outerWidth(true);g.objHeight=g.$this.outerHeight(true)});g.currentLeft=g.$this.offset().left;g.currentTop=g.$this.offset().top;g.documentScrollTop=a("html").scrollTop()};if(c.type=="random"){if(c.before){c.before()}h.html=h.html();if(h[0].tagName=="IMG"){h.wrap("<div class='wrap-img'></div>");h.html=a(".wrap-img",h.parent().parent()).html();h.unwrap("<div class='wrap-img'></div>")}$newthis=a('<div class="random-ad"></div>').html(h.html).css({position:"absolute","z-index":c.zIndex}).appendTo("body");if(c.closable){a('<div class="close-ad" id="leftCloseAd"></div>').appendTo($newthis).click(function(){a(this).parent().remove()})}$newthis.css({top:c.top,left:c.left});g.$this=$newthis;if(!c.clonable){h.remove()}var o=setInterval(function(){b(g)},c.speed);m();a(window).bind("resize",function(){m()}).scroll(function(){m()});if(c.onMouse){g.$this.hover(function(){if(c.mouseover){c.mouseover()}clearInterval(o)},function(){o=setInterval(function(){if(c.mouseout){c.mouseout()}b(g)},c.speed)})}if(c.after){c.after()}}else{if(c.type=="double"){if(c.before){c.before()}var d,e;var f=function(){h.html=h.html();if(h[0].tagName=="IMG"){h.wrap("<div class='wrap-img'></div>");h.html=a(".wrap-img",h.parent().parent()).html();h.unwrap("<div class='wrap-img'></div>")}if(c.showLeft){d=a('<div id="leftAd" style="position:fixed;*position:absolute;z-index:'+c.zIndex+'"></div>').html(h.html).css({top:c.top,left:c.left,bottom:c.bottom}).appendTo("body")}if(c.showRight){e=a('<div id="rightAd" style="position:fixed;*position:absolute;z-index:'+c.zIndex+'"></div>').html(h.html).css({top:c.top,right:c.right,bottom:c.bottom}).appendTo("body")}if(!c.clonable&&(c.showRight||c.showLeft)){h.remove()}if(c.closable){if(c.showLeft){a('<div class="close-ad" id="leftCloseAd"></div>').appendTo(d).click(function(){d.remove();if(c.showRight){e.remove()}})}if(c.showRight){a('<div class="close-ad" id="rightCloseAd"></div>').appendTo(e).click(function(){e.remove();if(c.showLeft){d.remove()}})}}};f();if(a.browser.msie&&a.browser.version<=7){a(window).scroll(function(){m();if(c.showLeft){d.stop().animate({top:c.top+g.documentScrollTop},c.ie6Speed)}if(c.showRight){e.stop().animate({top:c.top+g.documentScrollTop},c.ie6Speed)}})}if(c.after){c.after()}}else{if(c.type=="absolute"){if(c.before){c.before()}var d,e;var n=function(){h.html=h.html();if(h[0].tagName=="IMG"){h.wrap("<div class='wrap-img'></div>");h.html=a(".wrap-img",h.parent().parent()).html();h.unwrap("<div class='wrap-img'></div>")}if(c.showLeft){d=a('<div id="leftAd" style="position:absolute;z-index:'+c.zIndex+'"></div>').html(h.html).css({top:c.top,left:c.left,bottom:c.bottom}).appendTo("body")}if(c.showRight){e=a('<div id="rightAd" style="position:absolute;z-index:'+c.zIndex+'"></div>').html(h.html).css({top:c.top,right:c.right,bottom:c.bottom}).appendTo("body")}if(!c.clonable&&(c.showRight||c.showLeft)){h.remove()}if(c.closable){if(c.showLeft){a('<div class="close-ad" id="leftCloseAd"></div>').appendTo(d).click(function(){d.remove();if(c.showRight){e.remove()}})}if(c.showRight){a('<div class="close-ad" id="rightCloseAd"></div>').appendTo(e).click(function(){e.remove();if(c.showLeft){d.remove()}})}}};n();if(c.after){c.after()}}}}})}})(jQuery);(function(a){a.fn.cgCarousel=function(e){e=a.extend({prev:null,next:null,btnGo:null,mousewheel:false,stopByMouseover:true,delay:800,speed:1000,distance:100,easing:null,vertical:false,loop:true,visible:4,start:0,scroll:1,before:null,after:null,type:null},e||{});if(!e.type){var c=function(g,f){return parseInt(a.css(g[0],f))||0};var d=function(f){return f[0].offsetWidth+c(f,"marginLeft")+c(f,"marginRight")};var b=function(f){return f[0].offsetHeight+c(f,"marginTop")+c(f,"marginBottom")};return this.each(function(){var z=false,q=e.vertical?"top":"left",m=e.vertical?"height":"width";var y=a(this),x=a("ul",y),o=a("li",x),C=o.size(),B=e.visible;var A=0;if(e.loop){x.prepend(o.slice(C-B).clone()).append(o.slice(0,B).clone());e.start+=B}var w=a("li",x),u=w.size(),D=e.start;w.css({overflow:"hidden","float":e.vertical?"none":"left"});x.css({margin:"0",padding:"0",position:"relative","list-style-type":"none","z-index":"1"});y.css({overflow:"hidden",position:"relative","z-index":"2",left:"0px"});var t=e.vertical?b(w):d(w);var s=t*u;var r=t*B;x.css(m,s+"px").css(q,-(D*t));if(e.prev){a(e.prev).click(function(){return p(D-e.scroll)})}if(e.next){a(e.next).click(function(){return p(D+e.scroll)})}if(e.btnGo){a.each(e.btnGo,function(g,f){a(f).click(function(){return p(e.loop?e.visible+g:g)})})}if(e.mousewheel&&y.mousewheel){y.mousewheel(function(f,g){return g>0?p(D-e.scroll):p(D+e.scroll)})}if(e.delay){A=setInterval(function(){p(D+e.scroll)},e.delay+e.speed)}if(e.stopByMouseover){x.bind("mouseover",function(){if(e.delay){clearInterval(A)}}),x.bind("mouseout",function(){if(e.delay){A=setInterval(function(){p(D+e.scroll)},e.delay+e.speed)}})}function n(){return w.slice(D).slice(0,B)}function p(f){if(!z){if(e.before){e.before.call(this,n())}if(e.loop){if(f<=e.start-B-1){x.css(q,-((u-(B*2))*t)+"px");D=f==e.start-B-1?u-(B*2)-1:u-(B*2)-e.scroll}else{if(f>=u-B+1){x.css(q,-((B)*t)+"px");D=f==u-B+1?B+1:B+e.scroll}else{D=f}}}else{if(f<0||f>u-B){return}else{D=f}}z=true;x.stop().animate(q=="left"?{left:-(D*t)}:{top:-(D*t)},e.speed,e.easing,function(){if(e.after){e.after.call(this,n())}z=false});if(!e.loop){a(e.prev+","+e.next).removeClass("disabled");a((D-e.scroll<0&&e.prev)||(D+e.scroll>u-B&&e.next)||[]).addClass("disabled")}}return false}})}else{if(e.type=="ceaseless"){this.each(function(s){var v=a(this),q=0,u=0,g;var t=a("ul",a(this)),z=a("li",t),h=v.width(),x=v.height(),r=2;v.css({overflow:"hidden"});if(e.vertical){r=parseInt(x/(z.length*z.eq(0).outerHeight(true)))+1;z.each(function(){u+=parseInt(a(this).outerHeight(true))});t.height((r+1)*u);v.css("height",x)}else{z.css({"float":"left"});r=parseInt(h/(z.length*z.eq(0).outerWidth(true)))+1;z.each(function(){q+=parseInt(a(this).outerWidth(true))});t.width((r+1)*q+10);v.css("width",h)}var y=t.children("li").clone();for(var p=0;p<r;p++){y.clone().appendTo(t)}var o=function(){g=setInterval(function(){v.animate({scrollLeft:"+="+1},0);var A=v.scrollLeft();if(A+h>=(r+1)*q){v.scrollLeft(A-q)}},e.speed)};var n=function(){g=setInterval(function(){v.animate({scrollLeft:"-="+1},0);var A=v.scrollLeft();if(A<=0){v.scrollLeft(q)}},e.speed)};var m=function(){g=setInterval(function(){v.animate({scrollTop:"+="+1},0);var A=v.scrollTop();if(A+x>=(r+1)*u){v.scrollTop(A-u)}},e.speed)};var f=function(){g=setInterval(function(){v.animate({scrollTop:"-="+1},0);var A=v.scrollTop();if(A<=0){v.scrollTop(u)}},e.speed)};var w=function(){if(e.vertical){m()}else{o()}};w();if(e.prev){a(e.prev).hover(function(){clearInterval(g);if(e.vertical){f()}else{n()}},function(){clearInterval(g);w()})}if(e.next){}if(e.stopByMouseover){v.hover(function(){clearInterval(g)},function(){w()})}})}}}})(jQuery);(function(a){a.fn.cgChange=function(b){var b=a.extend({},{title:"",content:"",selectedClass:"",event:"click",current:0},b);return this.each(function(c){var d={};d.$this=a(this);d.titles=a(b.title,d.$this);d.contents=a(b.content,d.$this);d.titles.removeClass(b.selectedClass);d.contents.hide();d.titles.each(function(e){a(this).bind(b.event,function(){d.titles.removeClass(b.selectedClass);a(this).addClass(b.selectedClass);d.contents.hide();d.contents.eq(e).show()})});d.titles.eq(b.current).addClass(b.selectedClass);d.contents.eq(b.current).show()})}})(jQuery);(function(a){a.fn.cgDate=function(b){var b=a.extend(true,{format:"y年m月d日 w",loop:false,weeks:["星期天","星期一","星期二","星期三","星期四","星期五","星期六"],months:[1,2,3,4,5,6,7,8,9,10,11,12]},b);this.each(function(){var d=a(this);var c=function(f){var e=new Date();f=f.replace("y",e.getFullYear());f=f.replace("m",b.months[e.getMonth()]);f=f.replace("d",e.getDate());f=f.replace("h",e.getHours()>=10?e.getHours():"0"+e.getHours());f=f.replace("M",e.getMinutes()>=10?e.getMinutes():"0"+e.getMinutes());f=f.replace("s",e.getSeconds()>=10?e.getSeconds():"0"+e.getSeconds());f=f.replace("w",b.weeks[e.getDay()]);return f};if(b.loop){d.html(c(b.format));setInterval(function(){d.html(c(b.format))},1000)}else{d.html(c(b.format))}})}})(jQuery);(function(a){a.fn.cgGotoTop=function(e){var e=a.extend({range:0,speed:200,bottom:5,top:null,left:null,right:5,scrollTo:0,isSetPosition:true,ie6Speed:200,fadeSpeed:200},e||{});var b=function(f){if(a("body,html").scrollTop()>=(e.range||0)){f.show()}else{f.hide()}a(window).bind("resize scroll",function(){var g=a(window).scrollTop();e.range=typeof e.range=="number"?e.range:e.range.offset().top;if(g>(e.range||0)){f.fadeIn(e.fadeSpeed,function(){f.show()})}else{f.fadeOut(e.fadeSpeed,function(){f.hide()})}})};var d=function(n){if(a.browser.msie&&a.browser.version<7){var g=a(window).width(),f=a(window).height(),m=a(window).scrollTop(),h=a(window).scrollLeft();n.css({position:"absolute",cursor:"pointer",top:e.top?e.top+m:f+m-(e.bottom||0)-n.outerHeight(true),left:e.left?e.left+h:g+h-(e.right||0)-n.outerWidth(true)});var o=function(){g=a(window).width();f=a(window).height();m=a(window).scrollTop();h=a(window).scrollLeft();n.stop().animate({top:e.top?(e.top+m):(f+m-(e.bottom||0)-n.outerHeight(true)),left:e.left?(e.left+h):(g+h-(e.right||0)-n.outerWidth(true))},e.ie6Speed)};o();a(window).bind("resize scroll",function(){o()})}else{n.css({position:"fixed",left:e.left,top:e.top,right:e.right,bottom:e.bottom,cursor:"pointer"})}};var c=function(f){f.click(function(g){e.scrollTo=typeof e.scrollTo=="number"?e.scrollTo:e.scrollTo.offset().top;a("html,body").stop().animate({scrollTop:e.scrollTo},e.speed);g.preventDefault()})};a(this).each(function(){b(a(this));if(e.isSetPosition){d(a(this))}c(a(this))})}})(jQuery);(function(a){a.fn.cgMenu=function(b){var d=a.extend(true,{width:"auto",top:null,left:null,effect:{openSpeed:350,closeSpeed:350,openType:"fade",closeType:"fade",openEasing:"swing",closeEasing:"swing"},timeBeforeOpen:50,timeBeforeClose:100,mouseover:null,parentClass:"parent-nav",mouseout:null},b||{});var c={showNextNav:function(e){e.otherMenu.bind("mouseenter",function(g){var f=a(this).children("ul");c.setPosition(a(this),f);c.showNav(f);if(a.isFunction(d.mouseover)){d.mouseover.call(this,a(this))}}).mouseleave(function(g){var f=a(this).children("ul");c.hideNav(f);if(a.isFunction(d.mouseout)){d.mouseout.call(this,a(this))}})},showFirstNav:function(f){var e;f.firstMenu.bind("mouseenter",function(g){e=a(this).children("ul");c.hideNav(f.firstMenu.children("ul").not(e));c.hideNav(f.otherMenu.children("ul"));c.showNav(e);if(a.isFunction(d.mouseover)){d.mouseover.call(this,a(this))}}).mouseleave(function(h){var g=a(this).children("ul");c.hideNav(g);if(a.isFunction(d.mouseout)){d.mouseout.call(this,a(this))}});f.firstMenu.children("ul").mouseleave(function(g){})},showNav:function(e){switch(d.effect.openType){case"slide":e.stop(true,true).delay(d.timeBeforeOpen).slideDown(d.effect.openSpeed,d.effect.openEasing);break;case"fade":e.stop(true,true).delay(d.timeBeforeOpen).fadeIn(d.effect.openSpeed,d.effect.openEasing);break;default:e.stop(true,true).delay(d.timeBeforeOpen).show()}},hideNav:function(e){switch(d.effect.closeType){case"slide":e.stop(true,true).delay(d.timeBeforeClose).slideUp(d.effect.closeSpeed,d.effect.closeEasing);break;case"fade":e.stop(true,true).delay(d.timeBeforeClose).fadeOut(d.effect.closeSpeed,d.effect.closeEasing);break;default:e.stop(true,true).delay(d.timeBeforeClose).hide()}},setPosition:function(m,f){if(!f.data("style")){var e=m.outerHeight(true),g=m.parent("ul").outerWidth()-(parseInt(f.css("border-left-width"))||0)*2,h=parseInt(m.position().top)||0;if(a.browser.msie&&a.browser.version<8){if(f.css("border-top-width")){h=h+(parseInt(f.css("border-top-width"))||0)}}f.css({position:"absolute",left:g,top:h});f.data("style",true)}},initCss:function(e){e.menu.children("ul").show();e.firstMenu.parent("ul").addClass("first-nav");e.secondMenu.parent("ul").addClass("second-nav");e.thirdMenu.parent("ul").addClass("third-nav");e.fourthMenu.parent("ul").addClass("fourth-nav");if(d.width=="auto"){e.menu.children("ul").each(function(){var f=a(this).width();a(this).width(f)})}else{e.otherMenu.width(d.width)}e.parentMenu.each(function(){a(this).children().eq(0).addClass(d.parentClass)});e.firstMenu.each(function(){var f=a(this).children("ul");e.menu.children("ul").hide();var g=a(this).height();if(d.top){g=d.top}f.css({position:"absolute",left:0,top:g})});e.firstMenu.css("position","relative")}};a(this).each(function(e){var g={},f=a(this);var h=function(){g.$this=f;g.menu=a("li",f);g.firstMenu=f.children("li");g.secondMenu=g.firstMenu.children("ul").children("li");g.thirdMenu=g.secondMenu.children("ul").children("li");g.fourthMenu=g.thirdMenu.children("ul").children("li");g.otherMenu=g.menu.not(g.firstMenu);g.parentMenu=g.otherMenu.has("ul");if(a.browser.msie&&a.browser.version<7){if(d.effect.openType=="slide"){d.effect.openType="fade";d.effect.closeType="fade"}g.menu.children("ul").css("width",10)}c.initCss(g);c.showFirstNav(g);c.showNextNav(g)};h()})}})(jQuery);(function(a){a.fn.cgPictureEffect=function(b){var c=a.extend(true,{},{picture:null,thumbPicture:null,title:null,prev:null,next:null,stop:null,start:null,disabledClass:null,current:0,loop:true,effect:{type:"slide",speed:300,typeFunction:null,mouseover:null,mouseout:null},thumbEffect:{style:"image",type:"fade",opacity:0.6,speed:200,typeFunction:null,selectedClass:null,event:"mouseover",mouseover:null,mouseout:null},titleEffect:{type:"fade",speed:400,cut:40,typeFunction:null},create:null,delay:2500,before:null,after:null},b);return a(this).each(function(){var h={};var p=a(this);var e=Math.max(c.thumbEffect.speed,c.titleEffect.speed,c.effect.speed);var r=function(u){if(h.flag){h.index=u;if(h.current!=h.index){if(typeof c.before=="function"){var t=c.before(h,c);if(t==false){return}}o(h.index);d(h.index);setTimeout(function(){h.current=h.index;if(typeof c.after=="function"){c.after(h,c)}h.flag=true},e)}}};var s=function(t){if(c.effect.type=="fade"){h.bigLis.eq(t).stop(true,true).fadeIn(c.effect.speed);h.bigLis.eq(t).siblings().stop(true,true).fadeOut(c.effect.speed)}else{if(c.effect.type=="fadein"){h.bigLis.hide();h.bigLis.eq(t).stop(true).fadeIn(c.effect.speed)}else{if(c.effect.type=="slide"){var w=h.bigLis.eq(0).outerWidth(true);var u=h.bigLis.eq(0).outerWidth(true)*h.length;h.bigUl.stop(true).animate({left:-w*t},c.effect.speed)}else{if(c.effect.type=="sameDirectionSlide"){h.flag=false;var w=h.bigLis.eq(0).outerWidth(true);var u=h.bigLis.eq(0).outerWidth(true)*h.length,v;if(t>h.current||t==0&&h.current==h.length-1){v=w*2}else{if(t<=h.current||t==h.length-1&&h.current==0){v=0}}h.bigLis.eq(t).css({left:v}).show();h.bigUl.stop(true,true).animate({left:-v},c.effect.speed,function(){h.bigLis.not(h.bigLis.eq(t)).hide();h.bigLis.css({left:w});h.bigUl.css({left:-w})})}else{if(a.isFunction(c.effect.typeFunction)){c.effect.typeFunction(h,c)}}}}}};var o=function(t){s(t);if(c.thumbPicture){if(c.thumbEffect.selectedClass){h.smallLis.removeClass(c.thumbEffect.selectedClass);h.smallLis.eq(t).addClass(c.thumbEffect.selectedClass)}if(c.thumbEffect.type=="fade"){h.smallLis.eq(t).stop(true,true).animate({opacity:1},c.thumbEffect.speed);h.smallLis.eq(t).siblings().stop().css("opacity",c.thumbEffect.opacity)}else{if(a.isFunction(c.thumbEffect.typeFunction)){c.thumbEffect.typeFunction(h,c)}}}if(c.title){n(t)}};var n=function(u){var w=h.bigLinks.eq(u).attr("title")||"",t=h.bigLinks.eq(u).attr("href");if(c.titleEffect.type=="fade"){h.title.children("a").html(w.substring(0,c.titleEffect.cut)).attr("href",t).attr("title",w);h.title.children("a").fadeIn(c.titleEffect.speed,function(){h.title.children("a").show()})}else{if(c.titleEffect.type=="slide"){h.title.children("a").html(w.substring(0,c.titleEffect.cut)).attr("href",t).attr("title",w);var v=h.title.outerHeight(true);if(parseInt(h.title.css("top"))==0){h.title.css("top",-v).stop().animate({top:0},c.titleEffect.speed,function(){h.title.css("top",0)})}else{if(parseInt(h.title.css("bottom"))==0){h.title.css("bottom",-v).stop().animate({bottom:0},c.titleEffect.speed,function(){h.title.css("bottom",0)})}}}else{if(a.isFunction(c.titleEffect.typeFunction)){c.titleEffect.typeFunction(h,c)}}}};var d=function(t){if(!c.loop){if(t>0&&t<h.length-1){h.next.removeClass(c.disabledClass);h.prev.removeClass(c.disabledClass)}else{if(t==0){h.prev.addClass(c.disabledClass);h.next.removeClass(c.disabledClass)}else{if(t==h.length-1){h.prev.removeClass(c.disabledClass);h.next.addClass(c.disabledClass)}}}}};var m=function(){h.thumbPicture=a(c.thumbPicture,p);h.picture=a(c.picture,p);h.prev=a(c.prev,p);h.next=a(c.next,p);h.stop=a(c.stop,p);h.start=a(c.start,p);h.bigUl=a("ul",h.picture);h.bigLis=a(c.picture+" li",p);h.bigLinks=a("a img",h.bigLis).parent("a");h.title=a(c.title,p);h.length=h.bigLis.length;h.current=c.current;h.flag=true;h.stopflag=false;if(c.thumbPicture){if(c.thumbEffect.style=="image"){var w=a("<ul></ul>").appendTo(h.thumbPicture);for(var u=0;u<h.length;u++){a("<li>"+h.bigLinks.eq(u).html()+"</li>").appendTo(w)}}else{if(c.thumbEffect.style=="icon"){var w=a("<ul></ul>").appendTo(h.thumbPicture);for(var u=0;u<h.length;u++){a("<li></li>").appendTo(w)}}else{if(c.thumbEffect.style=="number"){var w=a("<ul></ul>").appendTo(h.thumbPicture);for(var u=0;u<h.length;u++){a("<li><div>"+(u+1)+"</div></li>").appendTo(w)}}}}h.smallUl=a("ul",h.thumbPicture);h.smallLis=a("li",h.smallUl);if(c.thumbEffect.type=="fade"){h.smallLis.css("opacity",c.thumbEffect.opacity);h.smallLis.eq(h.current).css("opacity",1)}h.smallLis.eq(h.current).addClass(c.thumbEffect.selectedClass)}if(c.title){h.title.append('<a id="" href="" title="" target="_blank"></a>');var x=h.bigLinks.eq(h.current).attr("title")||"";h.title.children("a").html(x.substring(0,c.titleEffect.cut)).attr("href",h.bigLinks.eq(h.current).attr("href")).attr("title",x)}if(c.effect.type=="fade"){h.picture.css("position","relative");h.bigLis.css({position:"absolute",top:0,left:0});h.bigLis.each(function(y){a(this).css({"z-index":h.length-y})});if(c.title){h.title.css({"z-index":h.length+1})}h.prev.css({"z-index":h.length+1});h.next.css({"z-index":h.length+1});h.bigLis.not(h.bigLis.eq(h.current)).hide();if(c.thumbPicture){h.smallLis.css({"z-index":h.length+1})}}else{if(c.effect.type=="fadein"){h.bigLis.not(h.bigLis.eq(h.current)).hide()}else{if(c.effect.type=="slide"){var t=h.bigLis.eq(0).outerWidth(true)*h.length;if(h.picture.css("position")!="absolute"&&h.picture.css("position")!="relative"){h.picture.css("position","relative")}h.bigUl.css({position:"absolute",width:t,left:-(h.bigLis.eq(0).outerWidth(true)*h.current)});h.bigLis.css({"float":"left",overflow:"hidden"})}else{if(c.effect.type=="sameDirectionSlide"){if(h.picture.css("position")!="absolute"&&h.picture.css("position")!="relative"){h.picture.css("position","relative")}var v=h.bigLis.eq(0).outerWidth(true);var t=h.bigLis.eq(0).outerWidth(true)*h.length;h.bigLis.css({position:"absolute",left:v,overflow:"hidden"});h.bigUl.css({position:"absolute",width:t,left:-v});h.bigLis.not(h.bigLis.eq(h.current)).hide()}}}}d(h.current);if(typeof c.create=="function"){c.create()}};m();var q=function(){if(c.thumbPicture){h.smallLis.each(function(u){var t=a(this);if(typeof c.thumbEffect.mouseover=="function"){a(this).mouseover(function(){c.thumbEffect.mouseover(h,c)})}if(typeof c.thumbEffect.mouseout=="function"){a(this).mouseout(function(){c.thumbEffect.mouseout(h,c)})}t.unbind(c.thumbEffect.event).bind(c.thumbEffect.event,function(v){r(u)})})}h.bigLis.each(function(){var t=a(this);if(typeof c.effect.mouseover=="function"){t.mouseover(function(u){c.effect.mouseover(h,c)})}if(typeof c.effect.mouseout=="function"){t.mouseout(function(){c.effect.mouseout(h,c)})}});h.prev.click(function(){var t=h.current-1;if(c.loop){if(t<0){t=h.length-1}}else{if(t<0){t=0}}r(t)});h.next.click(function(){var t=h.current+1;if(c.loop){t=t%h.length}else{if(t==h.length){t=h.length-1}}r(t)});h.stop.click(function(){h.stopflag=true});h.start.click(function(){h.stopflag=false})};q();var g=function(){if(h.stopflag){return}h.timer=setInterval(function(){var t=(h.current+1)%h.length;r(t)},c.delay+e)};var f=function(){p.mouseover(function(){clearInterval(h.timer)}).mouseout(function(){g()})};if(c.delay){g();f()}})}})(jQuery);(function(a){a.fn.cgSetSize=function(b){b=a.extend({width:null,height:null,maxWidth:null},b||{});return this.each(function(d){var e=a(this);var g=e.width();var f=e.height();var c=function(){if(b.width&&b.height){e.width(b.width);e.height(b.height)}else{if(g>b.maxWidth){e.width(b.maxWidth);e.height(parseInt(b.maxWidth*f/g))}}};if(g&&f){c()}else{e.load(function(){g=e.width();f=e.height();c()})}})}})(jQuery);